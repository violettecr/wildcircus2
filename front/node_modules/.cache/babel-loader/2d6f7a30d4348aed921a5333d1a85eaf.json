{"ast":null,"code":"import _slicedToArray from \"/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/src/App.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport HomePage from './Components/HomePage';\nimport AdvertsPage from './Components/Adverts/AdvertsPage';\nimport AdminPage from './Components/Admin/AdminPage';\nimport AdminLogin from './Components/Admin/AdminLogin.jsx';\nimport RegisterAdverts from './Components/RegisterAdverts';\nimport LegalNotices from './Components/Footer/LegalNotices';\nimport Advert from './Components/Adverts/Advert';\nimport Contact from './Components/Contact';\nimport Footer from './Components/Footer/Footer';\nimport Download from './Components/Footer/Download';\nimport CtxAdmin from './Components/CtxAdmin';\nimport { AdvertsProvider } from './Components/CtxAdverts';\nimport './Components/css/communCSS.css';\nimport { apiEndPoint } from './config';\nimport axios from 'axios';\n\nconst App = () => {\n  const _useState = useState({\n    name: null,\n    email: null\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        admin = _useState2[0],\n        setAdmin = _useState2[1];\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      axios.get(`${apiEndPoint}/admin`, {\n        // récupère le token de la route\n        headers: {\n          // admin du Bac + un header qui \n          Authorization: `Bearer ${localStorage.getItem('token')}` // ensuite l'envoie  au localstorage \n\n        }\n      }).then((response, err) => {\n        if (err) {\n          console.log(err);\n        }\n\n        setAdmin(response.data);\n      });\n    } else {}\n  }, []);\n  return React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(CtxAdmin.Provider, {\n    value: [admin, setAdmin],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(AdvertsProvider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: HomePage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/advertsPage\",\n    component: AdvertsPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/advert/:id\",\n    component: Advert,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/adminPage\",\n    component: AdminPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/adminLogin\",\n    component: AdminLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/registerAdverts\",\n    component: RegisterAdverts,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/legalNotices\",\n    component: LegalNotices,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/download\",\n    component: Download,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/contact\",\n    component: Contact,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })))), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/src/App.jsx"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","HomePage","AdvertsPage","AdminPage","AdminLogin","RegisterAdverts","LegalNotices","Advert","Contact","Footer","Download","CtxAdmin","AdvertsProvider","apiEndPoint","axios","App","name","email","admin","setAdmin","localStorage","getItem","get","headers","Authorization","then","response","err","console","log","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport HomePage from './Components/HomePage';\nimport AdvertsPage from './Components/Adverts/AdvertsPage';\nimport AdminPage from './Components/Admin/AdminPage';\nimport AdminLogin from './Components/Admin/AdminLogin.jsx';\nimport RegisterAdverts from './Components/RegisterAdverts';\nimport LegalNotices from './Components/Footer/LegalNotices';\nimport Advert from './Components/Adverts/Advert';\nimport Contact from './Components/Contact';\nimport Footer from './Components/Footer/Footer';\nimport Download from './Components/Footer/Download';\nimport CtxAdmin from './Components/CtxAdmin';\nimport { AdvertsProvider } from './Components/CtxAdverts';\nimport './Components/css/communCSS.css';\nimport { apiEndPoint } from './config';\nimport axios from 'axios';\n\nconst App = () => {\n  const [admin, setAdmin] = useState({\n    name: null,\n    email: null\n  });\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      axios.get(`${apiEndPoint}/admin`, {                 // récupère le token de la route\n        headers: {                                                // admin du Bac + un header qui \n          Authorization: `Bearer ${localStorage.getItem('token')}`// ensuite l'envoie  au localstorage \n        }\n      }).then((response, err) => {\n        if (err) {\n          console.log(err);\n        }\n        setAdmin(response.data);\n      })\n    } else {\n    }\n  }, []);\n\n  return (\n    <Router>\n      <div className=\"App\" >\n        <CtxAdmin.Provider value={[admin, setAdmin]}>\n          <AdvertsProvider>\n              <Switch>\n              <Route exact path=\"/\" component={HomePage} />\n              <Route path=\"/advertsPage\" component={AdvertsPage} />\n              <Route path=\"/advert/:id\" component={Advert} />\n              <Route path=\"/adminPage\" component={AdminPage} />\n              <Route path=\"/adminLogin\" component={AdminLogin} />\n              <Route path=\"/registerAdverts\" component={RegisterAdverts} />\n              <Route path=\"/legalNotices\" component={LegalNotices} />\n              <Route path=\"/download\" component={Download} />\n              <Route path=\"/contact\" component={Contact} />\n            </Switch>\n          </AdvertsProvider>\n        </CtxAdmin.Provider>\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}