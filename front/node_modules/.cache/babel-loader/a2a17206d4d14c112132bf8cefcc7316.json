{"ast":null,"code":"import _slicedToArray from \"/home/violette/Bureau/odyssey/checkpoint_04/FRONT_TRAVAIL_wildcircus2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/violette/Bureau/odyssey/checkpoint_04/FRONT_TRAVAIL_wildcircus2/src/Components/Visitor.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { apiEndPoint } from '../config';\nimport './css/Visitor.css';\nimport axios from 'axios';\n\nconst Visitor = () => {\n  const _useState = useState({\n    category: '',\n    title: '',\n    date: undefined,\n    picture: null\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        form = _useState2[0],\n        setForm = _useState2[1];\n\n  const submitForm = () => {\n    const formData = new FormData();\n    formData.append('category_id', form.category);\n    formData.append('title', form.title);\n    formData.append('date', form.date);\n    formData.append('picture', form.picture_name);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post(`${apiEndPoint}/advert`, formData, config).then(() => {\n      const handleRedirection = () => {\n        window.location = '/advertsPage';\n      };\n\n      console.log(form);\n    }).catch(error => {\n      if (error) {\n        console.log('pas ok');\n      }\n    });\n  };\n\n  useEffect(() => {\n    console.log(form);\n  }, [form]);\n  return React.createElement(\"div\", {\n    id: \"visitor\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Votre exp\\xE9rience du Wild Circus\"), React.createElement(\"input\", {\n    type: \"file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }));\n};\n\nexport default Visitor;","map":{"version":3,"sources":["/home/violette/Bureau/odyssey/checkpoint_04/FRONT_TRAVAIL_wildcircus2/src/Components/Visitor.jsx"],"names":["React","useEffect","useState","apiEndPoint","axios","Visitor","category","title","date","undefined","picture","form","setForm","submitForm","formData","FormData","append","picture_name","config","headers","post","then","handleRedirection","window","location","console","log","catch","error"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,OAAO,mBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA,oBAEIH,QAAQ,CAAC;AAC/BI,IAAAA,QAAQ,EAAE,EADqB;AAE/BC,IAAAA,KAAK,EAAE,EAFwB;AAG/BC,IAAAA,IAAI,EAAEC,SAHyB;AAI/BC,IAAAA,OAAO,EAAE;AAJsB,GAAD,CAFZ;AAAA;AAAA,QAEbC,IAFa;AAAA,QAEPC,OAFO;;AASpB,QAAMC,UAAU,GAAG,MAAM;AACvB,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA+BL,IAAI,CAACL,QAApC;AACAQ,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBL,IAAI,CAACJ,KAA9B;AACAO,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBL,IAAI,CAACH,IAA7B;AACAM,IAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BL,IAAI,CAACM,YAAhC;AAEA,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf;AAMAf,IAAAA,KAAK,CAACgB,IAAN,CAAY,GAAEjB,WAAY,SAA1B,EAAoCW,QAApC,EAA8CI,MAA9C,EACGG,IADH,CACQ,MAAM;AACV,YAAMC,iBAAiB,GAAG,MAAM;AAC9BC,QAAAA,MAAM,CAACC,QAAP,GAAkB,cAAlB;AACD,OAFD;;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAYf,IAAZ;AACD,KANH,EAOGgB,KAPH,CAOUC,KAAD,IAAW;AAChB,UAAIA,KAAJ,EAAW;AACTH,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACD;AACF,KAXH;AAYD,GA1BD;;AA4BAzB,EAAAA,SAAS,CAAC,MAAM;AACdwB,IAAAA,OAAO,CAACC,GAAR,CAAYf,IAAZ;AACD,GAFQ,EAEN,CAACA,IAAD,CAFM,CAAT;AAKD,SACE;AAAK,IAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CADF,EAEE;AACC,IAAA,IAAI,EAAC,MADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAQA,CAlDD;;AAoDA,eAAeN,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { apiEndPoint } from '../config';\nimport './css/Visitor.css';\nimport axios from 'axios';\n\nconst Visitor = () => {\n\n  const [form, setForm] = useState({\n    category: '',\n    title: '',\n    date: undefined,\n    picture: null,\n  });\n\n  const submitForm = () => {\n    const formData = new FormData();\n\n    formData.append('category_id', form.category);\n    formData.append('title', form.title);\n    formData.append('date', form.date);\n    formData.append('picture', form.picture_name);\n\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data',\n      },\n    };\n\n    axios.post(`${apiEndPoint}/advert`, formData, config)\n      .then(() => {\n        const handleRedirection = () => {\n          window.location = '/advertsPage';\n        };\n        console.log(form);\n      })\n      .catch((error) => {\n        if (error) {\n          console.log('pas ok')\n        }\n      });\n  };\n\n  useEffect(() => {\n    console.log(form);\n  }, [form]);\n\n\n return (\n   <div id=\"visitor\">\n     <h1>Votre expérience du Wild Circus</h1>\n     <input\n      type=\"file\">\n     </input>\n   </div>\n )\n}\n\nexport default Visitor;"]},"metadata":{},"sourceType":"module"}