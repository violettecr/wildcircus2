{"ast":null,"code":"import _slicedToArray from \"/home/violette/Bureau/projet3/FRONT_COPIE_nantes-0919-js-CGouestre-front (copie)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/violette/Bureau/projet3/FRONT_COPIE_nantes-0919-js-CGouestre-front (copie)/src/Components/Adverts/Advert.jsx\";\nimport React, { useState, useEffect, Fragment, useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons';\nimport Navbar from '../Navbar/Navbar';\nimport { CtxAdverts } from '../CtxAdverts';\nimport { apiEndPoint } from '../../config';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport '../css/Advert.css';\n\nconst Advert = props => {\n  const _useContext = useContext(CtxAdverts),\n        _useContext2 = _slicedToArray(_useContext, 2),\n        adverts = _useContext2[0],\n        setAdverts = _useContext2[1];\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        img = _useState2[0],\n        setImg = _useState2[1];\n\n  const handleMap = () => {\n    return adverts.filter(advert => {\n      return parseInt(props.match.params.id) === advert.id;\n    }).map(advert => {\n      return React.createElement(Card, {\n        id: \"advert-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(CardActionArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Annonce n\\xB0\", advert.id), React.createElement(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, advert.title), React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, advert.description), React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, advert.location), advert.price > 0 ? React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, advert.price, \" Euros\") : null, advert.phone > 0 ? React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Tel: \", advert.phone) : null), React.createElement(CardMedia, {\n        component: \"img\",\n        alt: \"Contemplative Reptile\",\n        height: \"140\",\n        image: advert.url_image !== '' ? `${apiEndPoint}/uploads/${advert.url_image}` : `${apiEndPoint}/uploads/default.jpg`,\n        title: \"Advert-image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })), React.createElement(CardActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"mailto:\" + advert.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \" \", React.createElement(\"button\", {\n        className: \"btn btn-success m-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Contacter \", advert.name, \" \", React.createElement(FontAwesomeIcon, {\n        icon: faEnvelope,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }))), React.createElement(\"button\", {\n        id: \"propose\",\n        type: \"button\",\n        className: \"btn btn-primary\",\n        onClick: print,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \" Imprimer\")));\n    });\n  };\n\n  const print = () => {\n    return window.print();\n  }; // useEffect(() => {\n  //   if (advertImage != \"\") {\n  //     fetch(`${apiEndPoint}/image/${image}`)\n  //       .then((response, err) => {\n  //         if (err) {\n  //           throw err;\n  //         } else {\n  //           setImg(response.url);\n  //         }\n  //       });\n  //   } else {\n  //     fetch(`${apiEndPoint}/image/default.jpg`)\n  //       .then((response, err) => {\n  //         if (err) {\n  //           throw err;\n  //         } else {\n  //           setImg(response.url);\n  //         }\n  //       });\n  //   }\n  // }, []);\n\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"advert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, adverts.length > 0 ? handleMap() : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Loading...\")));\n};\n\nexport default Advert;","map":{"version":3,"sources":["/home/violette/Bureau/projet3/FRONT_COPIE_nantes-0919-js-CGouestre-front (copie)/src/Components/Adverts/Advert.jsx"],"names":["React","useState","useEffect","Fragment","useContext","FontAwesomeIcon","faEnvelope","Navbar","CtxAdverts","apiEndPoint","Card","CardContent","CardMedia","Typography","CardActionArea","CardActions","Advert","props","adverts","setAdverts","img","setImg","handleMap","filter","advert","parseInt","match","params","id","map","title","description","location","price","phone","url_image","email","name","print","window","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment, useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons';\nimport Navbar from '../Navbar/Navbar';\nimport { CtxAdverts } from '../CtxAdverts';\nimport { apiEndPoint } from '../../config';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport '../css/Advert.css';\n\nconst Advert = (props) => {\n  const [adverts, setAdverts] = useContext(CtxAdverts);\n  const [img, setImg] = useState(\"\");\n\n\n  const handleMap = () => {\n    return adverts.filter((advert) => {\n      return parseInt(props.match.params.id) === advert.id\n    })\n      .map((advert) => {\n        return (\n          <Card id=\"advert-card\">\n            <CardActionArea>\n              <CardContent>\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                  Annonce n°{advert.id}\n                </Typography>\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                  {advert.title}\n                </Typography>\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                  {advert.description}\n                </Typography>\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                  {advert.location}\n                </Typography>\n                {advert.price > 0 ? \n                  <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    {advert.price} Euros\n                  </Typography> : null}\n                {advert.phone > 0 ? \n                  <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Tel: {advert.phone}\n                  </Typography> : null}\n              </CardContent>\n              <CardMedia\n                component=\"img\"\n                alt=\"Contemplative Reptile\"\n                height=\"140\"\n                image={\n                  advert.url_image !== '' ?\n                  `${apiEndPoint}/uploads/${advert.url_image}` :\n                  `${apiEndPoint}/uploads/default.jpg`\n                  }\n                title=\"Advert-image\"\n              />\n            </CardActionArea>\n            <CardActions>\n              <a href={\"mailto:\" + advert.email}> <button className=\"btn btn-success m-1\">Contacter {advert.name} <FontAwesomeIcon icon={faEnvelope} /></button></a>\n              <button id=\"propose\" type=\"button\" className=\"btn btn-primary\" onClick={print}> Imprimer</button>\n            </CardActions>\n          </Card>\n        )\n      })\n  };\n\n  const print = () => {\n    return window.print();\n  }\n\n  // useEffect(() => {\n  //   if (advertImage != \"\") {\n  //     fetch(`${apiEndPoint}/image/${image}`)\n  //       .then((response, err) => {\n  //         if (err) {\n  //           throw err;\n  //         } else {\n  //           setImg(response.url);\n  //         }\n  //       });\n  //   } else {\n  //     fetch(`${apiEndPoint}/image/default.jpg`)\n  //       .then((response, err) => {\n  //         if (err) {\n  //           throw err;\n  //         } else {\n  //           setImg(response.url);\n  //         }\n  //       });\n  //   }\n  // }, []);\n\n  return (\n    <Fragment>\n      <Navbar />\n      <div id=\"advert\">\n        {adverts.length > 0\n          ? handleMap()\n          : <p>Loading...</p>\n        }\n      </div>\n    </Fragment>\n  );\n}\n\nexport default Advert;\n"]},"metadata":{},"sourceType":"module"}