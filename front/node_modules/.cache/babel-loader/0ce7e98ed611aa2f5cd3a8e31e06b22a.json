{"ast":null,"code":"import _objectSpread from \"/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/src/Components/RegisterAdverts.jsx\";\n\n/* eslint-disable react/jsx-props-no-spreading */\n\n/* eslint-disable react/no-unescaped-entities */\n\n/* eslint-disable no-nested-ternary */\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Recaptcha from 'react-google-recaptcha';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCrosshairs, faDownload } from '@fortawesome/free-solid-svg-icons';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './css/RegisterAdverts.css';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Collapse from '@material-ui/core/Collapse';\nimport Dialog from '@material-ui/core/Dialog';\nimport Alert from '@material-ui/lab/Alert';\nimport Slide from '@material-ui/core/Slide';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport $ from 'jquery';\nimport Navbar from './Navbar/Navbar';\nimport { apiEndPoint } from '../config'; // --------CONFIG MATERIAL-UI----------//\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: 100,\n      '& > *': {\n        margin: theme.spacing(1),\n        width: '100%'\n      }\n    },\n    alert: {\n      height: '100%'\n    }\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  }\n}));\nconst Transition = React.forwardRef((props, ref) => React.createElement(Slide, Object.assign({\n  direction: \"up\",\n  ref: ref\n}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 57\n  },\n  __self: this\n}))); // --------COMPOSANT RegisterAdverts------//\n\nconst RegisterAdverts = () => {\n  const classes = useStyles(); // ---------------TOASTER SUCCESS/FAIL------------------//\n\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        openBad = _React$useState2[0],\n        setOpenBad = _React$useState2[1];\n\n  const _React$useState3 = React.useState(false),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        openGood = _React$useState4[0],\n        setOpenGood = _React$useState4[1];\n\n  const handleClose = () => {\n    setOpenBad(false);\n  }; // --------POST vers API--------- //\n\n\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        statusServeur = _useState2[0],\n        setStatusServeur = _useState2[1];\n\n  const _useState3 = useState({\n    code: '',\n    latitude: '',\n    longitude: '',\n    name: '',\n    email: '',\n    phone: undefined,\n    title: '',\n    location: '',\n    price: undefined,\n    description: '',\n    types: 1,\n    category: '',\n    picture: null,\n    leurre: ''\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        form = _useState4[0],\n        setForm = _useState4[1];\n\n  const submitForm = () => {\n    const formData = new FormData();\n    formData.append('types', form.types);\n    formData.append('name', form.name);\n    formData.append('email', form.email);\n    formData.append('phone', form.phone);\n    formData.append('location', form.location);\n    formData.append('title', form.title);\n    formData.append('price', form.price);\n    formData.append('description', form.description);\n    formData.append('category_id', form.category);\n    formData.append('picture', form.picture);\n    formData.append('latitude', form.latitude);\n    formData.append('longitude', form.longitude);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post(`${apiEndPoint}/advert`, formData, config).then(() => {\n      const handleRedirection = () => {\n        window.location = '/advertsPage';\n      };\n\n      setStatusServeur(statusServeur);\n      setOpenGood(true);\n      setTimeout(handleRedirection, 5000);\n      console.log(form);\n    }).catch(error => {\n      if (error) {\n        setOpenBad(true);\n      }\n    });\n  };\n\n  useEffect(() => {\n    console.log(form);\n  }, [form]); // ---------------RECUPERER LES DIFFERENTES CATEGORIES D'ANNONCES------------------//\n  // ---------------Config Material-ui pour les catégories (visuel)------------------//\n\n  const inputLabel = React.useRef(null);\n\n  const _React$useState5 = React.useState(0),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        labelWidth = _React$useState6[0],\n        setLabelWidth = _React$useState6[1];\n\n  const SampleComponent = () => {\n    //ne pas supprimer, sert à donner le format pour le select des 'catégories à choisir'\n    useEffect(() => {\n      setLabelWidth(inputLabel.current.offsetWidth);\n    }, []);\n  }; // ---------------axios des différentes catégories------------------//\n\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        services = _useState6[0],\n        setServices = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        pensions = _useState8[0],\n        setPensions = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        activ = _useState10[0],\n        setActiv = _useState10[1];\n\n  const _useState11 = useState([]),\n        _useState12 = _slicedToArray(_useState11, 2),\n        ventes = _useState12[0],\n        setVentes = _useState12[1];\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/echanges`).then(result => {\n      setServices(result.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/pensions`).then(result => {\n      setPensions(result.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/activites`).then(result => {\n      setActiv(result.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/ventes`).then(result => {\n      setVentes(result.data);\n    });\n  }, []); // ---------------PREVIEW PICTURE DOWNLOAD (jquery)------------------//\n\n  const readURL = input => {\n    if (input.files && input.files[0]) {\n      const reader = new FileReader();\n\n      reader.onload = function (e) {\n        $('#blah').attr('src', e.target.result);\n      };\n\n      reader.readAsDataURL(input.files[0]);\n    }\n  };\n\n  $('#imgInp').change(function () {\n    readURL(this);\n  }); // ----------------LABELS OBLIGATOIRES------------------//\n\n  const _useState13 = useState(false),\n        _useState14 = _slicedToArray(_useState13, 2),\n        cocheLegalNotices = _useState14[0],\n        setCocheLegalNotices = _useState14[1];\n\n  const isEnabled = form.category !== 'Choisir une catégorie *' && form.category !== '' && form.title.length > 0 && form.description.length > 0 && form.location.length > 0 && form.email.length > 0; // ---------------RECAPTCHA----------------//\n\n  const _useState15 = useState(false),\n        _useState16 = _slicedToArray(_useState15, 2),\n        isVerified = _useState16[0],\n        setIsVerified = _useState16[1];\n\n  const onChanger = () => {\n    setIsVerified(true);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (isEnabled && isVerified && cocheLegalNotices) {\n      submitForm();\n    } else {\n      setOpenBad(true);\n    }\n  }; // ---------------BUTTON 'LOCALISEZ-MOI' ----------------//\n\n\n  const handleButton = e => {\n    e.preventDefault();\n    navigator.geolocation.getCurrentPosition(position => {\n      const lat = position.coords.latitude;\n      const long = position.coords.longitude;\n      axios.get(`https://geo.api.gouv.fr/communes?lat=${position.coords.latitude}&lon=${position.coords.longitude}&fields=nom,departement,codesPostaux`).then(response => {\n        const codes = response.data[0].codesPostaux;\n        const loc = `${Math.min(...codes)} ${response.data[0].nom} - ${response.data[0].departement.nom}`;\n        setForm(_objectSpread({}, form, {\n          location: loc,\n          latitude: lat,\n          longitude: long\n        }));\n      });\n    });\n  }; // ---------------AUTOCOMPLETION----------------//\n\n\n  const _useState17 = useState([]),\n        _useState18 = _slicedToArray(_useState17, 2),\n        newCities = _useState18[0],\n        setNewCities = _useState18[1];\n\n  const handleNewCities = e => {\n    setForm(_objectSpread({}, form, {\n      location: e.currentTarget.textContent,\n      leurre: e.currentTarget.textContent\n    }));\n    axios.get(`https://geo.api.gouv.fr/communes?nom=${e.target.value}&fields=nom,departement,codesPostaux,centre&boost=population&limit=20`).then(response => {\n      if (response.data.length > 0) {\n        let cities = [];\n        response.data.forEach(city => {\n          if (city.departement) {\n            const codes = city.codesPostaux;\n            cities = [...cities, `${Math.min(...codes)} ${city.nom} - ${city.departement.nom}`];\n          } else {\n            cities = [...cities, city.nom];\n          }\n        });\n        setNewCities(cities);\n      } else {\n        setNewCities([]);\n      }\n    });\n  };\n\n  useEffect(() => {\n    setForm(_objectSpread({}, form, {\n      latitude: '',\n      longitude: ''\n    }));\n\n    if (form.location.split(' ').length > 1 && form.latitude === '') {\n      const code = form.location.split(' ')[0];\n      axios.get(`https://geo.api.gouv.fr/communes?codePostal=${code}&fields=centre`).then(response => {\n        const lat = response.data[0].centre.coordinates[1];\n        const long = response.data[0].centre.coordinates[0];\n        setForm(_objectSpread({}, form, {\n          latitude: lat,\n          longitude: long\n        }));\n      });\n    }\n  }, [form.leurre]); // ---------------RETURN----------------//\n\n  return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"registerAdverts\",\n    style: {\n      backgroundImage: `url(\"${process.env.PUBLIC_URL}/Pictures/backgroundRegister.jpg\")`,\n      backgroundPosition: `center`,\n      backgroundAttachment: `fixed`,\n      backgroundRepeat: `no-repeat`,\n      backgroundSize: `100%`\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-style-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300\n    },\n    __self: this\n  }, \"D\\xE9poser une annonce\"), React.createElement(\"form\", {\n    id: \"form1\",\n    runat: \"server\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }, \"* Champs obligatoires\"), React.createElement(\"div\", {\n    id: \"containerForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }, \"1\"), \"Description\"), React.createElement(\"div\", {\n    id: \"catAnnonce\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"offre\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }, \"Je propose\", React.createElement(\"input\", {\n    className: !form.types ? '' : 'ok',\n    onChange: () => setForm(_objectSpread({}, form, {\n      types: 1\n    })),\n    type: \"radio\",\n    name: \"offre\",\n    id: \"offre\",\n    value: form.types,\n    checked: form.types,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    htmlFor: \"demande\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }, \"Je recherche\", React.createElement(\"input\", {\n    className: !form.types ? '' : 'ok',\n    onChange: () => setForm(_objectSpread({}, form, {\n      types: 0\n    })),\n    type: \"radio\",\n    name: \"demande\",\n    id: \"demande\",\n    value: form.types,\n    checked: !form.types,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }))), React.createElement(FormControl, {\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    id: \"demo-simple-select-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }, \"Choisir une cat\\xE9gorie *\"), React.createElement(Select, {\n    labelId: \"demo-simple-select-label\",\n    required: \"required\",\n    id: \"demo-simple-select\",\n    onChange: event => {\n      setForm(_objectSpread({}, form, {\n        category: event.target.value\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321\n    },\n    __self: this\n  }, React.createElement(ListSubheader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329\n    },\n    __self: this\n  }, \"Echanges de services\"), services.map(category => React.createElement(MenuItem, {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331\n    },\n    __self: this\n  }, category.name)), \";\", React.createElement(ListSubheader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334\n    },\n    __self: this\n  }, \"Pensions\"), pensions.map(category => React.createElement(MenuItem, {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336\n    },\n    __self: this\n  }, category.name)), \";\", React.createElement(ListSubheader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  }, \"Activit\\xE9s et balades\"), activ.map(category => React.createElement(MenuItem, {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341\n    },\n    __self: this\n  }, category.name)), \";\", React.createElement(ListSubheader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345\n    },\n    __self: this\n  }, \"Ventes/Dons/Locations\"), ventes.map(category => React.createElement(MenuItem, {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347\n    },\n    __self: this\n  }, category.name)), \";\")), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Titre\",\n    required: \"required\",\n    variant: \"standard\",\n    value: form.title,\n    required: \"required\",\n    maxLength: \"100\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      title: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"standard-textarea\",\n    multiline: true,\n    rowsMax: \"7\",\n    label: \"Description\",\n    required: \"required\",\n    type: \"text\",\n    variant: \"standard\",\n    value: form.description,\n    required: \"required\",\n    maxLength: \"1200\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      description: event.target.value\n    })),\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"describeLength\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378\n    },\n    __self: this\n  }, \"caract\\xE8res restants :\", 1200 - form.description.length, \"/ 1200\"), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Prix\",\n    type: \"number\",\n    value: form.price,\n    maxLength: \"10\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      price: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383\n    },\n    __self: this\n  })), React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393\n    },\n    __self: this\n  }, \"2\"), \"T\\xE9l\\xE9charger une image\"), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"downloadImg\",\n    htmlFor: \"imgInp\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397\n    },\n    __self: this\n  }, \"T\\xE9l\\xE9charger une image\", React.createElement(\"input\", {\n    className: !form.picture ? '' : 'ok',\n    onChange: event => setForm(_objectSpread({}, form, {\n      picture: event.target.files[0]\n    })),\n    type: \"file\",\n    placeholder: \"T\\xE9l\\xE9charger une image\",\n    name: \"picture\",\n    maxLength: \"100\",\n    id: \"imgInp\",\n    style: {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    onClick: e => setForm(_objectSpread({}, form, {\n      picture: null\n    }), e.preventDefault()),\n    className: \"button_register\",\n    type: \"button\",\n    id: \"ImgDelete\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410\n    },\n    __self: this\n  }, \"Supprimer l'image\"), React.createElement(\"img\", {\n    id: \"blah\",\n    src: \"#\",\n    alt: \"fairegardersoncheval\",\n    className: !form.picture ? 'imgUnloaded' : 'imgLoaded',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422\n    },\n    __self: this\n  }, \"3\"), \"Localisation\"), React.createElement(Autocomplete, {\n    onChange: handleNewCities,\n    options: newCities,\n    className: !form.location ? '' : 'ok',\n    value: form.location,\n    renderInput: params => React.createElement(TextField, Object.assign({}, params, {\n      onChange: handleNewCities,\n      label: \"Localisation *\",\n      className: !form.location ? '' : 'ok',\n      placeholder: \"Entrer votre ville *\",\n      margin: \"normal\",\n      variant: \"standard\",\n      id: \"standard-basic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    id: \"localize\",\n    onClick: handleButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faCrosshairs,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444\n    },\n    __self: this\n  }), \"Localisez moi !\")), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452\n    },\n    __self: this\n  }, \"4\"), \"Contact\"), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Nom\",\n    variant: \"standard\",\n    value: form.name,\n    onChange: event => setForm(_objectSpread({}, form, {\n      name: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Email\",\n    required: \"required\",\n    variant: \"standard\",\n    value: form.email,\n    maxLength: \"50\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      email: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"T\\xE9l\\xE9phone\",\n    type: \"tel\",\n    variant: \"standard\",\n    value: form.phone,\n    maxLength: \"10\",\n    name: \"phone\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      phone: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471\n    },\n    __self: this\n  }), React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482\n    },\n    __self: this\n  }, \"5\"), \"D\\xE9poser l'annonce\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: \"https://www.ifce.fr/wp-content/uploads/2019/09/Pret_a_usage__2_.pdf\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faDownload,\n    id: \"iconDownload\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491\n    },\n    __self: this\n  }), \"T\\xE9l\\xE9charger un exemple de contrat IFCE\")), React.createElement(\"div\", {\n    id: \"legalNotices\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: () => setCocheLegalNotices(!cocheLegalNotices),\n    type: \"checkbox\",\n    name: \"inputLegalNotices\",\n    id: \"inputLegalNotices\",\n    value: cocheLegalNotices,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503\n    },\n    __self: this\n  }, \"J'accepte les\", React.createElement(\"a\", {\n    href: \"LegalNotices\",\n    rel: \"noopener noreferrer\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505\n    },\n    __self: this\n  }, \" mentions l\\xE9gales\")))), React.createElement(Recaptcha, {\n    sitekey: \"6LenRsYUAAAAAOj8qWl5Rp66bucQCNtOKczLvviT\",\n    render: \"explicit\",\n    onChange: onChanger,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: handleSubmit,\n    id: \"button_register\",\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514\n    },\n    __self: this\n  }, \"Envoyer le formulaire\"), React.createElement(ToastContainer, {\n    position: \"top-center\",\n    autoClose: 7000,\n    hideProgressBar: true,\n    newestOnTop: true,\n    closeOnClick: true,\n    rtl: false,\n    pauseOnVisibilityChange: true,\n    draggable: true,\n    pauseOnHover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"msgSend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 533\n    },\n    __self: this\n  }, React.createElement(Collapse, {\n    in: openGood,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534\n    },\n    __self: this\n  }, React.createElement(Alert, {\n    action: React.createElement(IconButton, {\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      size: \"small\",\n      onClick: () => {\n        setOpenGood(false);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538\n      },\n      __self: this\n    }, React.createElement(CloseIcon, {\n      fontSize: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535\n    },\n    __self: this\n  }, \"Message envoy\\xE9 !\"))), React.createElement(Dialog, {\n    open: openBad,\n    TransitionComponent: Transition,\n    keepMounted: true,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-slide-title\",\n    \"aria-describedby\": \"alert-dialog-slide-description\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 555\n    },\n    __self: this\n  }, React.createElement(Alert, {\n    severity: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 564\n    },\n    __self: this\n  }, \"Vous devez remplir les champs obligatoires\")))))));\n};\n\nexport default RegisterAdverts;","map":{"version":3,"sources":["/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/src/Components/RegisterAdverts.jsx"],"names":["React","useState","useEffect","axios","Recaptcha","FontAwesomeIcon","faCrosshairs","faDownload","ToastContainer","toast","TextField","makeStyles","IconButton","CloseIcon","Collapse","Dialog","Alert","Slide","ListSubheader","InputLabel","MenuItem","FormControl","Select","Autocomplete","$","Navbar","apiEndPoint","useStyles","theme","root","margin","spacing","width","alert","height","formControl","minWidth","selectEmpty","marginTop","Transition","forwardRef","props","ref","RegisterAdverts","classes","openBad","setOpenBad","openGood","setOpenGood","handleClose","statusServeur","setStatusServeur","code","latitude","longitude","name","email","phone","undefined","title","location","price","description","types","category","picture","leurre","form","setForm","submitForm","formData","FormData","append","config","headers","post","then","handleRedirection","window","setTimeout","console","log","catch","error","inputLabel","useRef","labelWidth","setLabelWidth","SampleComponent","current","offsetWidth","services","setServices","pensions","setPensions","activ","setActiv","ventes","setVentes","get","result","data","readURL","input","files","reader","FileReader","onload","e","attr","target","readAsDataURL","change","cocheLegalNotices","setCocheLegalNotices","isEnabled","length","isVerified","setIsVerified","onChanger","handleSubmit","preventDefault","handleButton","navigator","geolocation","getCurrentPosition","position","lat","coords","long","response","codes","codesPostaux","loc","Math","min","nom","departement","newCities","setNewCities","handleNewCities","currentTarget","textContent","value","cities","forEach","city","split","centre","coordinates","backgroundImage","process","env","PUBLIC_URL","backgroundPosition","backgroundAttachment","backgroundRepeat","backgroundSize","event","map","id","display","params"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/no-unescaped-entities */\n/* eslint-disable no-nested-ternary */\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Recaptcha from 'react-google-recaptcha';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCrosshairs, faDownload } from '@fortawesome/free-solid-svg-icons';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './css/RegisterAdverts.css';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Collapse from '@material-ui/core/Collapse';\nimport Dialog from '@material-ui/core/Dialog';\nimport Alert from '@material-ui/lab/Alert';\nimport Slide from '@material-ui/core/Slide';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport $ from 'jquery';\nimport Navbar from './Navbar/Navbar';\nimport { apiEndPoint } from '../config';\n\n\n// --------CONFIG MATERIAL-UI----------//\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: 100,\n      '& > *': {\n        margin: theme.spacing(1),\n        width: '100%',\n      },\n    },\n    alert: {\n      height: '100%',\n    },\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst Transition = React.forwardRef((props, ref) => (\n  <Slide direction=\"up\" ref={ref} {...props} />\n));\n\n\n// --------COMPOSANT RegisterAdverts------//\n\nconst RegisterAdverts = () => {\n  const classes = useStyles();\n  \n  // ---------------TOASTER SUCCESS/FAIL------------------//\n\n  const [openBad, setOpenBad] = React.useState(false);\n  const [openGood, setOpenGood] = React.useState(false);\n  const handleClose = () => {\n    setOpenBad(false);\n  };\n\n\n  // --------POST vers API--------- //\n\n  const [statusServeur, setStatusServeur] = useState(true);\n  const [form, setForm] = useState({\n    code: '',\n    latitude: '',\n    longitude: '',\n    name: '',\n    email: '',\n    phone: undefined,\n    title: '',\n    location: '',\n    price: undefined,\n    description: '',\n    types: 1,\n    category: '',\n    picture: null,\n    leurre: '',\n  });\n\n  const submitForm = () => {\n    const formData = new FormData();\n\n    formData.append('types', form.types);\n    formData.append('name', form.name);\n    formData.append('email', form.email);\n    formData.append('phone', form.phone);\n    formData.append('location', form.location);\n    formData.append('title', form.title);\n    formData.append('price', form.price);\n    formData.append('description', form.description);\n    formData.append('category_id', form.category);\n    formData.append('picture', form.picture);\n    formData.append('latitude', form.latitude);\n    formData.append('longitude', form.longitude);\n\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data',\n      },\n    };\n\n    axios.post(`${apiEndPoint}/advert`, formData, config)\n      .then(() => {\n        const handleRedirection = () => {\n          window.location = '/advertsPage';\n        };\n        setStatusServeur(statusServeur);\n        setOpenGood(true);\n        setTimeout(handleRedirection, 5000);\n        console.log(form);\n      })\n      .catch((error) => {\n        if (error) {\n          setOpenBad(true);\n        }\n      });\n  };\n\n  useEffect(() => {\n    console.log(form);\n  }, [form]);\n\n  // ---------------RECUPERER LES DIFFERENTES CATEGORIES D'ANNONCES------------------//\n\n          // ---------------Config Material-ui pour les catégories (visuel)------------------//\n\n  const inputLabel = React.useRef(null);\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  const SampleComponent = () => { //ne pas supprimer, sert à donner le format pour le select des 'catégories à choisir'\n    useEffect(() => {\n      setLabelWidth(inputLabel.current.offsetWidth);\n    }, []);\n  };\n          // ---------------axios des différentes catégories------------------//\n\n  const [services, setServices] = useState([]);\n  const [pensions, setPensions] = useState([]);\n  const [activ, setActiv] = useState([]);\n  const [ventes, setVentes] = useState([]);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/echanges`)\n      .then((result) => {\n        setServices(result.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/pensions`)\n      .then((result) => {\n        setPensions(result.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/activites`)\n      .then((result) => {\n        setActiv(result.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/ventes`)\n      .then((result) => {\n        setVentes(result.data);\n      });\n  }, []);\n\n  // ---------------PREVIEW PICTURE DOWNLOAD (jquery)------------------//\n  const readURL = (input) => {\n    if (input.files && input.files[0]) {\n      const reader = new FileReader();\n      reader.onload = function (e) {\n        $('#blah').attr('src', e.target.result);\n      };\n      reader.readAsDataURL(input.files[0]);\n    }\n  };\n  $('#imgInp').change(function () {\n    readURL(this);\n  });\n\n  // ----------------LABELS OBLIGATOIRES------------------//\n\n  const [cocheLegalNotices, setCocheLegalNotices] = useState(false);\n\n  const isEnabled = form.category !== 'Choisir une catégorie *'\n    && form.category !== ''\n    && form.title.length > 0\n    && form.description.length > 0\n    && form.location.length > 0\n    && form.email.length > 0;\n\n  // ---------------RECAPTCHA----------------//\n\n  const [isVerified, setIsVerified] = useState(false);\n\n  const onChanger = () => {\n    setIsVerified(true);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isEnabled && isVerified && cocheLegalNotices) {\n      submitForm();\n    } else {\n      setOpenBad(true);\n    }\n  };\n\n  // ---------------BUTTON 'LOCALISEZ-MOI' ----------------//\n\n  const handleButton = (e) => {\n    e.preventDefault();\n    navigator.geolocation.getCurrentPosition((position) => {\n      const lat = position.coords.latitude;\n      const long = position.coords.longitude;\n      axios.get(`https://geo.api.gouv.fr/communes?lat=${position.coords.latitude}&lon=${position.coords.longitude}&fields=nom,departement,codesPostaux`)\n        .then((response) => {\n          const codes = response.data[0].codesPostaux;\n          const loc = `${Math.min(...codes)} ${response.data[0].nom} - ${response.data[0].departement.nom}`;\n          setForm({\n            ...form, location: loc, latitude: lat, longitude: long,\n          });\n        });\n    });\n  };\n\n  // ---------------AUTOCOMPLETION----------------//\n\n  const [newCities, setNewCities] = useState([]);\n\n  const handleNewCities = (e) => {\n    setForm({\n      ...form, location: e.currentTarget.textContent, leurre: e.currentTarget.textContent,\n    });\n    axios.get(`https://geo.api.gouv.fr/communes?nom=${e.target.value}&fields=nom,departement,codesPostaux,centre&boost=population&limit=20`)\n      .then((response) => {\n        if (response.data.length > 0) {\n          let cities = [];\n          response.data.forEach((city) => {\n            if (city.departement) {\n              const codes = city.codesPostaux;\n              cities = [...cities, `${Math.min(...codes)} ${city.nom} - ${city.departement.nom}`];\n            } else {\n              cities = [...cities, city.nom];\n            }\n          });\n          setNewCities(cities);\n        } else {\n          setNewCities([]);\n        }\n      });\n  };\n\n  useEffect(() => {\n    setForm({ ...form, latitude: '', longitude: '' });\n    if (form.location.split(' ').length > 1 && form.latitude === '') {\n      const code = form.location.split(' ')[0];\n      axios.get(`https://geo.api.gouv.fr/communes?codePostal=${code}&fields=centre`)\n        .then((response) => {\n          const lat = response.data[0].centre.coordinates[1];\n          const long = response.data[0].centre.coordinates[0];\n          setForm({ ...form, latitude: lat, longitude: long });\n        });\n    }\n  }, [form.leurre]);\n\n  // ---------------RETURN----------------//\n  return (\n    <>\n      <Navbar />\n      <div\n        id=\"registerAdverts\"\n        style={\n          {\n            backgroundImage: `url(\"${process.env.PUBLIC_URL}/Pictures/backgroundRegister.jpg\")`,\n            backgroundPosition: `center`,\n            backgroundAttachment: `fixed`,\n            backgroundRepeat: `no-repeat`,\n            backgroundSize: `100%`\n          }\n        }>\n        <div className=\"form-style-5\">\n          <h1>Déposer une annonce</h1>\n          <form id=\"form1\" runat=\"server\">\n            <p>* Champs obligatoires</p>\n            <div id=\"containerForm\">\n              <fieldset>\n                <legend>\n                  <span className=\"number\">1</span>\n                  Description\n              </legend>\n                <div id=\"catAnnonce\">\n                  <label htmlFor=\"offre\">\n                    Je propose\n                  <input className={!form.types ? '' : 'ok'} onChange={() => setForm({ ...form, types: 1 })} type=\"radio\" name=\"offre\" id=\"offre\" value={form.types} checked={form.types} />\n                  </label>\n                  <label htmlFor=\"demande\">\n                    Je recherche\n                  <input className={!form.types ? '' : 'ok'} onChange={() => setForm({ ...form, types: 0 })} type=\"radio\" name=\"demande\" id=\"demande\" value={form.types} checked={!form.types} />\n                  </label>\n                </div>\n                <FormControl className={classes.formControl}>\n                  <InputLabel id=\"demo-simple-select-label\">Choisir une catégorie *</InputLabel>\n                  <Select\n                    labelId=\"demo-simple-select-label\"\n                    required=\"required\"\n                    id=\"demo-simple-select\"\n                    onChange={(event) => {\n                      setForm({ ...form, category: event.target.value });\n                    }}\n                  >\n                    <ListSubheader>Echanges de services</ListSubheader>\n                    {services.map((category) => (\n                      <MenuItem value={category.id} key={category.name}>{category.name}</MenuItem>\n                    ))};\n\n                    <ListSubheader>Pensions</ListSubheader>\n                    {pensions.map((category) => (\n                      <MenuItem value={category.id} key={category.name}>{category.name}</MenuItem>\n                    ))};\n\n                    <ListSubheader>Activités et balades</ListSubheader>\n                    {activ.map((category) => (\n                      <MenuItem value={category.id} key={category.name}>{category.name}</MenuItem>\n                    ))}\n                    ;\n\n                    <ListSubheader>Ventes/Dons/Locations</ListSubheader>\n                    {ventes.map((category) => (\n                      <MenuItem value={category.id} key={category.name}>{category.name}</MenuItem>\n                    ))}\n                    ;\n\n                  </Select>\n                </FormControl>\n\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"Titre\"\n                  required=\"required\"\n                  variant=\"standard\"\n                  value={form.title}\n                  required=\"required\"\n                  maxLength=\"100\"\n                  onChange={(event) => setForm({ ...form, title: event.target.value })}\n                />\n                <TextField\n                  id=\"standard-textarea\"\n                  multiline\n                  rowsMax=\"7\"\n                  label=\"Description\"\n                  required=\"required\"\n                  type=\"text\"\n                  variant=\"standard\"\n                  value={form.description}\n                  required=\"required\"\n                  maxLength=\"1200\"\n                  onChange={(event) => setForm({ ...form, description: event.target.value })}\n                  className={classes.root} noValidate autoComplete=\"off\"\n                />\n                <p id=\"describeLength\">\n                  caractères restants :\n                {1200 - form.description.length}\n                  / 1200\n                </p>\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"Prix\"\n                  type=\"number\"\n                  value={form.price}\n                  maxLength=\"10\"\n                  onChange={(event) => setForm({ ...form, price: event.target.value })}\n                />\n              </fieldset>\n              <legend>\n                <span className=\"number\">2</span>\n                Télécharger une image\n            </legend>\n              <fieldset>\n                <label className=\"downloadImg\" htmlFor=\"imgInp\">\n                  Télécharger une image\n                <input\n                    className={!form.picture ? '' : 'ok'}\n                    onChange={(event) => setForm({ ...form, picture: event.target.files[0] })}\n                    type=\"file\"\n                    placeholder=\"Télécharger une image\"\n                    name=\"picture\"\n                    maxLength=\"100\"\n                    id=\"imgInp\"\n                    style={{ display: 'none' }}\n                  />\n                </label>\n                <button\n                  onClick={(e) => setForm({ ...form, picture: null }, e.preventDefault())}\n                  className=\"button_register\"\n                  type=\"button\"\n                  id=\"ImgDelete\"\n                >\n                  Supprimer l'image\n              </button>\n                <img id=\"blah\" src=\"#\" alt=\"fairegardersoncheval\" className={!form.picture ? 'imgUnloaded' : 'imgLoaded'} />\n              </fieldset>\n              <fieldset>\n                <legend>\n                  <span className=\"number\">3</span>\n                  Localisation\n              </legend>\n                <Autocomplete\n                  onChange={handleNewCities}\n                  options={newCities}\n                  className={!form.location ? '' : 'ok'}\n                  value={form.location}\n                  renderInput={(params) => (\n                    <TextField\n                      {...params}\n                      onChange={handleNewCities}\n                      label=\"Localisation *\"\n                      className={!form.location ? '' : 'ok'}\n                      placeholder=\"Entrer votre ville *\"\n                      margin=\"normal\"\n                      variant=\"standard\"\n                      id=\"standard-basic\"\n                    />\n                  )}\n                />\n                <button type=\"submit\" id=\"localize\" onClick={handleButton}>\n                  <FontAwesomeIcon\n                    icon={faCrosshairs}\n                  />\n                  Localisez moi !\n              </button>\n              </fieldset>\n              <fieldset>\n                <legend>\n                  <span className=\"number\">4</span>\n                  Contact\n              </legend>\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"Nom\"\n                  variant=\"standard\"\n                  value={form.name}\n                  onChange={(event) => setForm({ ...form, name: event.target.value })}\n                />\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"Email\"\n                  required=\"required\"\n                  variant=\"standard\"\n                  value={form.email}\n                  maxLength=\"50\"\n                  onChange={(event) => setForm({ ...form, email: event.target.value })}\n                />\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"Téléphone\"\n                  type=\"tel\"\n                  variant=\"standard\"\n                  value={form.phone}\n                  maxLength=\"10\"\n                  name=\"phone\"\n                  onChange={(event) => setForm({ ...form, phone: event.target.value })}\n                />\n                <legend>\n                  <span className=\"number\">5</span>\n                  Déposer l'annonce\n              </legend>\n                <p>\n                  <a\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    href=\"https://www.ifce.fr/wp-content/uploads/2019/09/Pret_a_usage__2_.pdf\"\n                  >\n                    <FontAwesomeIcon icon={faDownload} id=\"iconDownload\" />\n                    Télécharger un exemple de contrat IFCE\n                </a>\n                </p>\n                <div id=\"legalNotices\">\n                  <input\n                    onChange={() => setCocheLegalNotices(!cocheLegalNotices)}\n                    type=\"checkbox\"\n                    name=\"inputLegalNotices\"\n                    id=\"inputLegalNotices\"\n                    value={cocheLegalNotices}\n                  />\n                  <p>\n                    J'accepte les\n                  <a href=\"LegalNotices\" rel=\"noopener noreferrer\" target=\"_blank\"> mentions légales</a>\n                  </p>\n                </div>\n              </fieldset>\n              <Recaptcha\n                sitekey=\"6LenRsYUAAAAAOj8qWl5Rp66bucQCNtOKczLvviT\"\n                render=\"explicit\"\n                onChange={onChanger}\n              />\n              <button\n                type=\"submit\"\n                onClick={handleSubmit}\n                id=\"button_register\"\n                href=\"#\"\n              >\n                Envoyer le formulaire\n            </button>\n              <ToastContainer\n                position=\"top-center\"\n                autoClose={7000}\n                hideProgressBar\n                newestOnTop\n                closeOnClick\n                rtl={false}\n                pauseOnVisibilityChange\n                draggable\n                pauseOnHover\n              />\n              <div id=\"msgSend\">\n                <Collapse in={openGood}>\n                  <Alert\n                    action={\n                      (\n                        <IconButton\n                          aria-label=\"close\"\n                          color=\"inherit\"\n                          size=\"small\"\n                          onClick={() => {\n                            setOpenGood(false);\n                          }}\n                        >\n                          <CloseIcon fontSize=\"inherit\" />\n                        </IconButton>\n                      )\n                    }\n                  >\n                    Message envoyé !\n                  </Alert>\n                </Collapse>\n              </div>\n              <Dialog\n                open={openBad}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n                onClick={handleClose}\n              >\n                <Alert severity=\"error\">Vous devez remplir les champs obligatoires</Alert>\n              </Dialog>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default RegisterAdverts;\n"]},"metadata":{},"sourceType":"module"}