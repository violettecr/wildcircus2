{"ast":null,"code":"import _slicedToArray from \"/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/src/Components/Adverts/Advert.jsx\";\nimport React, { useState, useEffect, Fragment, useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons';\nimport Navbar from '../Navbar/Navbar';\nimport { CtxAdverts } from '../CtxAdverts';\nimport { apiEndPoint } from '../../config';\nimport '../css/Advert.css';\n\nconst Advert = props => {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        advertId = _useState2[0],\n        setAdvertId = _useState2[1];\n\n  const _useContext = useContext(CtxAdverts),\n        _useContext2 = _slicedToArray(_useContext, 2),\n        adverts = _useContext2[0],\n        setAdverts = _useContext2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        img = _useState4[0],\n        setImg = _useState4[1];\n\n  const print = () => {\n    return window.print();\n  };\n\n  useEffect(() => {\n    if (props.location.pathname.split('/')[3]) {\n      fetch(`${apiEndPoint}/image/${props.location.pathname.split('/')[3]}`).then((response, err) => {\n        if (err) {\n          throw err;\n        } else {\n          setImg(response.url);\n        }\n      });\n    } else {\n      fetch(`${apiEndPoint}/image/default.jpg`).then((response, err) => {\n        if (err) {\n          throw err;\n        } else {\n          setImg(response.url);\n        }\n      });\n    }\n\n    setAdvertId(parseInt(props.match.params.id) - 1);\n  }, []);\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"advert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, adverts.length > 0 ? React.createElement(\"div\", {\n    className: \"card mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Annonce n\\xB0\", adverts[advertId].id), React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"card-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, adverts[advertId].title), React.createElement(\"img\", {\n    class: \"card-img-top\",\n    src: img,\n    alt: \"Image advert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"card-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, adverts[advertId].description), adverts[advertId].price > 0 ? React.createElement(\"p\", {\n    className: \"card-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, adverts[advertId].price, \" Euros\") : null, adverts[advertId].phone > 0 ? React.createElement(\"p\", {\n    className: \"card-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Tel: \", adverts[advertId].phone) : null, React.createElement(\"p\", {\n    className: \"card-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, adverts[advertId].location), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"mailto:\" + adverts[advertId].email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \" \", React.createElement(\"button\", {\n    className: \"btn btn-success m-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Contacter \", adverts[advertId].name, \" \", React.createElement(FontAwesomeIcon, {\n    icon: faEnvelope,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    id: \"propose\",\n    type: \"button\",\n    className: \"btn btn-primary\",\n    onClick: print,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \" Imprimer\")))) : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Loading...\")));\n};\n\nexport default Advert;","map":{"version":3,"sources":["/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/src/Components/Adverts/Advert.jsx"],"names":["React","useState","useEffect","Fragment","useContext","FontAwesomeIcon","faEnvelope","Navbar","CtxAdverts","apiEndPoint","Advert","props","advertId","setAdvertId","adverts","setAdverts","img","setImg","print","window","location","pathname","split","fetch","then","response","err","url","parseInt","match","params","id","length","title","description","price","phone","email","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment, useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons';\nimport Navbar from '../Navbar/Navbar';\nimport { CtxAdverts } from '../CtxAdverts';\nimport { apiEndPoint } from '../../config';\nimport '../css/Advert.css';\n\nconst Advert = (props) => {\n  const [advertId, setAdvertId] = useState(null);\n  const [adverts, setAdverts] = useContext(CtxAdverts);\n\n  const[img, setImg] = useState(\"\");\n\n  const print = () => {\n    return window.print();\n  }\n\n  useEffect(() => {\n    if(props.location.pathname.split('/')[3]){\n      fetch(`${apiEndPoint}/image/${props.location.pathname.split('/')[3]}`)\n      .then((response, err) => {\n        if (err) {\n          throw err;\n        } else {\n          setImg(response.url);\n        }\n      });\n    }else {\n      fetch(`${apiEndPoint}/image/default.jpg`)\n      .then((response, err) => {\n        if (err) {\n          throw err;\n        } else {\n          setImg(response.url);\n        }\n      });\n    }\n    setAdvertId(parseInt(props.match.params.id) - 1);\n  }, []);\n\n  return (\n    <Fragment>\n      <Navbar />\n        <div id=\"advert\">\n          {adverts.length > 0 ?\n            <div className=\"card mt-3\">\n              <p>Annonce nÂ°{adverts[advertId].id}</p>\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{adverts[advertId].title}</h5>\n                <img class=\"card-img-top\" src={img} alt=\"Image advert\" />\n                <p className=\"card-text\">{adverts[advertId].description}</p>\n                {adverts[advertId].price > 0 ? <p className=\"card-text\">{adverts[advertId].price} Euros</p> : null}\n                {adverts[advertId].phone > 0 ? <p className=\"card-text\">Tel: {adverts[advertId].phone}</p> : null}\n                <p className=\"card-text\">{adverts[advertId].location}</p>\n                <div>\n                  <a href={\"mailto:\" + adverts[advertId].email}> <button className=\"btn btn-success m-1\">Contacter {adverts[advertId].name} <FontAwesomeIcon icon={faEnvelope} /></button></a>\n                  <button id=\"propose\" type=\"button\" className=\"btn btn-primary\" onClick={print}> Imprimer</button> \n                </div>\n              </div>\n            </div> : <p>Loading...</p>\n          }\n        </div>\n    </Fragment>\n  );\n}\n\nexport default Advert;\n"]},"metadata":{},"sourceType":"module"}