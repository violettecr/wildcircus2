{"ast":null,"code":"import _objectSpread from \"/home/violette/Bureau/projet3/FRONT_COPIE_nantes-0919-js-CGouestre-front (copie)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/violette/Bureau/projet3/FRONT_COPIE_nantes-0919-js-CGouestre-front (copie)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/violette/Bureau/projet3/FRONT_COPIE_nantes-0919-js-CGouestre-front (copie)/src/Components/RegisterAdverts.jsx\";\n\n/* eslint-disable react/jsx-props-no-spreading */\n\n/* eslint-disable react/no-unescaped-entities */\n\n/* eslint-disable no-nested-ternary */\n\n/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Recaptcha from 'react-google-recaptcha';\nimport { faCrosshairs, faDownload } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Alert from '@material-ui/lab/Alert';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Collapse from '@material-ui/core/Collapse';\nimport Dialog from '@material-ui/core/Dialog';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport NavigationIcon from '@material-ui/icons/Navigation';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Select from '@material-ui/core/Select';\nimport Slide from '@material-ui/core/Slide';\nimport TextField from '@material-ui/core/TextField';\nimport { teal } from '@material-ui/core/colors';\nimport $ from 'jquery';\nimport './css/RegisterAdverts.css';\nimport Navbar from './Navbar/Navbar';\nimport { apiEndPoint } from '../config'; // --------CONFIG MATERIAL-UI----------//\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: 100,\n      '& > *': {\n        margin: theme.spacing(1),\n        width: '100%'\n      }\n    },\n    alert: {\n      height: '100%'\n    }\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  }\n}));\nconst Transition = React.forwardRef((props, ref) => React.createElement(Slide, Object.assign({\n  direction: \"up\",\n  ref: ref\n}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 62\n  },\n  __self: this\n}))); // --------COMPOSANT RegisterAdverts------//\n\nconst RegisterAdverts = () => {\n  const classes = useStyles(); // ---------------TOASTER SUCCESS/FAIL------------------//\n\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        openBad = _React$useState2[0],\n        setOpenBad = _React$useState2[1];\n\n  const _React$useState3 = React.useState(false),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        openGood = _React$useState4[0],\n        setOpenGood = _React$useState4[1];\n\n  const handleClose = () => {\n    setOpenBad(false);\n  }; // --------POST vers API--------- //\n\n\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        statusServeur = _useState2[0],\n        setStatusServeur = _useState2[1];\n\n  const _useState3 = useState({\n    code: '',\n    latitude: '',\n    longitude: '',\n    name: '',\n    email: '',\n    phone: undefined,\n    title: '',\n    location: '',\n    price: undefined,\n    description: '',\n    types: 1,\n    category: '',\n    picture: null,\n    leurre: ''\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        form = _useState4[0],\n        setForm = _useState4[1];\n\n  const submitForm = () => {\n    const formData = new FormData();\n    formData.append('types', form.types);\n    formData.append('name', form.name);\n    formData.append('email', form.email);\n    formData.append('phone', form.phone);\n    formData.append('location', form.location);\n    formData.append('title', form.title);\n    formData.append('price', form.price);\n    formData.append('description', form.description);\n    formData.append('category_id', form.category);\n    formData.append('picture', form.picture);\n    formData.append('latitude', form.latitude);\n    formData.append('longitude', form.longitude);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post(`${apiEndPoint}/advert`, formData, config).then(() => {\n      const handleRedirection = () => {\n        // redirection vers la page Advert après poste de l'annonce\n        window.location = '/advertsPage';\n      };\n\n      setStatusServeur(statusServeur);\n      setOpenGood(true);\n      setTimeout(handleRedirection, 5000);\n      console.log(form);\n    }).catch(error => {\n      if (error) {\n        setOpenBad(true);\n      }\n    });\n  };\n\n  useEffect(() => {\n    console.log(form);\n  }, [form]); // ---------------RECUPERER LES DIFFERENTES CATEGORIES D'ANNONCES------------------//\n  // ---------------Config Material-ui pour les catégories (visuel)------------------//\n\n  const inputLabel = React.useRef(null);\n\n  const _React$useState5 = React.useState(0),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        labelWidth = _React$useState6[0],\n        setLabelWidth = _React$useState6[1];\n\n  const SampleComponent = () => {\n    // ne pas supprimer même si grisé, sert à donner\n    // le format pour le select des 'catégories à choisir'\n    useEffect(() => {\n      setLabelWidth(inputLabel.current.offsetWidth);\n    }, []);\n  }; // ---------------axios des différentes catégories------------------//\n\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        services = _useState6[0],\n        setServices = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        pensions = _useState8[0],\n        setPensions = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        activ = _useState10[0],\n        setActiv = _useState10[1];\n\n  const _useState11 = useState([]),\n        _useState12 = _slicedToArray(_useState11, 2),\n        ventes = _useState12[0],\n        setVentes = _useState12[1];\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/echanges`).then(result => {\n      setServices(result.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/pensions`).then(result => {\n      setPensions(result.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/activites`).then(result => {\n      setActiv(result.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/ventes`).then(result => {\n      setVentes(result.data);\n    });\n  }, []);\n  /* --------- MATERIAL_UI : Je propose/Je recherche ------------------*/\n\n  const _React$useState7 = React.useState('female'),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        value = _React$useState8[0],\n        setValue = _React$useState8[1];\n\n  const handleChange = event => {\n    setValue(event.target.value);\n  };\n\n  const BlackRadio = withStyles({\n    root: {\n      color: teal[500],\n      '&$checked': {\n        color: teal[500]\n      }\n    },\n    checked: {}\n  })(props => React.createElement(Radio, Object.assign({\n    color: \"default\"\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }))); // ---------------PREVIEW PICTURE DOWNLOAD (jquery)------------------//\n\n  const readURL = input => {\n    if (input.files && input.files[0]) {\n      const reader = new FileReader();\n\n      reader.onload = function (e) {\n        $('#blah').attr('src', e.target.result);\n      };\n\n      reader.readAsDataURL(input.files[0]);\n    }\n  };\n\n  $('#imgInp').change(function () {\n    readURL(this);\n  }); // ----------------LABELS OBLIGATOIRES------------------//\n\n  const _useState13 = useState(false),\n        _useState14 = _slicedToArray(_useState13, 2),\n        cocheLegalNotices = _useState14[0],\n        setCocheLegalNotices = _useState14[1];\n\n  const isEnabled = form.category !== 'Choisir une catégorie *' && form.category !== '' && form.title.length > 0 && form.description.length > 0 && form.location.length > 0 && form.email.length > 0; // ---------------RECAPTCHA----------------//\n\n  const _useState15 = useState(false),\n        _useState16 = _slicedToArray(_useState15, 2),\n        isVerified = _useState16[0],\n        setIsVerified = _useState16[1];\n\n  const onChanger = () => {\n    setIsVerified(true);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (isEnabled && isVerified && cocheLegalNotices) {\n      submitForm();\n    } else {\n      setOpenBad(true);\n    }\n  }; // ---------------BUTTON 'LOCALISEZ-MOI' ----------------//\n\n\n  const handleButton = e => {\n    e.preventDefault();\n    navigator.geolocation.getCurrentPosition(position => {\n      const lat = position.coords.latitude;\n      const long = position.coords.longitude;\n      axios.get(`https://geo.api.gouv.fr/communes?lat=${position.coords.latitude}&lon=${position.coords.longitude}&fields=nom,departement,codesPostaux`).then(response => {\n        const codes = response.data[0].codesPostaux;\n        const loc = `${Math.min(...codes)} ${response.data[0].nom} - ${response.data[0].departement.nom}`;\n        setForm(_objectSpread({}, form, {\n          location: loc,\n          latitude: lat,\n          longitude: long\n        }));\n      });\n    });\n  }; // ---------------AUTOCOMPLETION----------------//\n\n\n  const _useState17 = useState([]),\n        _useState18 = _slicedToArray(_useState17, 2),\n        newCities = _useState18[0],\n        setNewCities = _useState18[1];\n\n  const handleNewCities = e => {\n    setForm(_objectSpread({}, form, {\n      location: e.currentTarget.textContent,\n      leurre: e.currentTarget.textContent\n    }));\n    axios.get(`https://geo.api.gouv.fr/communes?nom=${e.target.value}&fields=nom,departement,codesPostaux,centre&boost=population&limit=20`).then(response => {\n      if (response.data.length > 0) {\n        let cities = [];\n        response.data.forEach(city => {\n          if (city.departement) {\n            const codes = city.codesPostaux;\n            cities = [...cities, `${Math.min(...codes)} ${city.nom} - ${city.departement.nom}`];\n          } else {\n            cities = [...cities, city.nom];\n          }\n        });\n        setNewCities(cities);\n      } else {\n        setNewCities([]);\n      }\n    });\n  };\n\n  useEffect(() => {\n    setForm(_objectSpread({}, form, {\n      latitude: '',\n      longitude: ''\n    }));\n\n    if (form.location.split(' ').length > 1 && form.latitude === '') {\n      const code = form.location.split(' ')[0];\n      axios.get(`https://geo.api.gouv.fr/communes?codePostal=${code}&fields=centre`).then(response => {\n        const lat = response.data[0].centre.coordinates[1];\n        const long = response.data[0].centre.coordinates[0];\n        setForm(_objectSpread({}, form, {\n          latitude: lat,\n          longitude: long\n        }));\n      });\n    }\n  }, [form.leurre]); // ---------------RETURN----------------//\n\n  return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"registerAdverts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-style-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309\n    },\n    __self: this\n  }, \"D\\xE9poser une annonce\"), React.createElement(\"form\", {\n    id: \"form1\",\n    runat: \"server\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }, \"* Champs obligatoires\"), React.createElement(\"div\", {\n    id: \"containerForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315\n    },\n    __self: this\n  }, \"1\"), \"Annonce\"), React.createElement(\"div\", {\n    id: \"catAnnonce\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    component: \"fieldset\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319\n    },\n    __self: this\n  }, React.createElement(RadioGroup, {\n    \"aria-label\": \"position\",\n    name: \"position\",\n    value: value,\n    onChange: handleChange,\n    row: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }, React.createElement(FormControlLabel, {\n    value: \"start\",\n    control: React.createElement(BlackRadio, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }),\n    label: \"Je propose\",\n    labelPlacement: \"start\",\n    onChange: () => setForm(_objectSpread({}, form, {\n      types: 1\n    })),\n    checked: form.types,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321\n    },\n    __self: this\n  }), React.createElement(FormControlLabel, {\n    value: \"end\",\n    control: React.createElement(BlackRadio, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }),\n    label: \"Je recherche\",\n    labelPlacement: \"end\",\n    onChange: () => setForm(_objectSpread({}, form, {\n      types: 0\n    })),\n    checked: !form.types,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329\n    },\n    __self: this\n  })))), React.createElement(FormControl, {\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    id: \"demo-simple-select-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341\n    },\n    __self: this\n  }, \"Choisir une cat\\xE9gorie *\"), React.createElement(Select, {\n    labelId: \"demo-simple-select-label\",\n    required: \"required\",\n    id: \"demo-simple-select\",\n    onChange: event => {\n      setForm(_objectSpread({}, form, {\n        category: event.target.value\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342\n    },\n    __self: this\n  }, React.createElement(ListSubheader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350\n    },\n    __self: this\n  }, \"Echanges de services\"), services.map(category => React.createElement(MenuItem, {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352\n    },\n    __self: this\n  }, category.name)), \";\", React.createElement(ListSubheader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356\n    },\n    __self: this\n  }, \"Pensions\"), pensions.map(category => React.createElement(MenuItem, {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358\n    },\n    __self: this\n  }, category.name)), \";\", React.createElement(ListSubheader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362\n    },\n    __self: this\n  }, \"Activit\\xE9s et balades\"), activ.map(category => React.createElement(MenuItem, {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364\n    },\n    __self: this\n  }, category.name)), \";\", React.createElement(ListSubheader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368\n    },\n    __self: this\n  }, \"Ventes/Dons/Locations\"), ventes.map(category => React.createElement(MenuItem, {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370\n    },\n    __self: this\n  }, category.name)), \";\")), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Titre\",\n    required: \"required\",\n    variant: \"standard\",\n    value: form.title,\n    maxLength: \"100\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      title: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"standard-textarea\",\n    multiline: true,\n    rowsMax: \"7\",\n    label: \"Description\",\n    type: \"text\",\n    variant: \"standard\",\n    value: form.description,\n    required: \"required\",\n    maxLength: \"1200\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      description: event.target.value\n    })),\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"describeLength\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400\n    },\n    __self: this\n  }, \"caract\\xE8res restants :\", 1200 - form.description.length, \"/ 1200\"), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Prix\",\n    type: \"number\",\n    value: form.price,\n    maxLength: \"10\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      price: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"location\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    onClick: handleButton,\n    color: \"primary\",\n    \"aria-label\": \"directions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414\n    },\n    __self: this\n  }, React.createElement(NavigationIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415\n    },\n    __self: this\n  })), React.createElement(Autocomplete, {\n    onChange: handleNewCities,\n    options: newCities,\n    value: form.location,\n    renderInput: params => React.createElement(TextField, Object.assign({}, params, {\n      onChange: handleNewCities,\n      label: \"Ville *\",\n      placeholder: \"Entrer votre ville *\",\n      margin: \"normal\",\n      fullWidth: true,\n      variant: \"standard\",\n      id: \"standard-basic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: \"buttonsImage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"downloadImg\",\n    htmlFor: \"imgInp\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436\n    },\n    __self: this\n  }, \"T\\xE9l\\xE9charger une image\", React.createElement(\"input\", {\n    onChange: event => setForm(_objectSpread({}, form, {\n      picture: event.target.files[0]\n    })),\n    type: \"file\",\n    placeholder: \"T\\xE9l\\xE9charger une image\",\n    name: \"picture\",\n    maxLength: \"100\",\n    id: \"imgInp\",\n    style: {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    onClick: e => setForm(_objectSpread({}, form, {\n      picture: null\n    }), e.preventDefault()),\n    className: \"button_register\",\n    type: \"button\",\n    id: \"ImgDelete\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448\n    },\n    __self: this\n  }, \"Supprimer l'image\")), React.createElement(\"img\", {\n    id: \"blah\",\n    src: \"#\",\n    alt: \"fairegardersoncheval\",\n    className: !form.picture ? 'imgUnloaded' : 'imgLoaded',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462\n    },\n    __self: this\n  }, \"2\"), \"Contact\"), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Nom\",\n    variant: \"standard\",\n    value: form.name,\n    onChange: event => setForm(_objectSpread({}, form, {\n      name: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Email\",\n    required: \"required\",\n    variant: \"standard\",\n    value: form.email,\n    maxLength: \"50\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      email: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"T\\xE9l\\xE9phone\",\n    type: \"tel\",\n    variant: \"standard\",\n    value: form.phone,\n    maxLength: \"10\",\n    name: \"phone\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      phone: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"coches\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: \"https://www.ifce.fr/wp-content/uploads/2019/09/Pret_a_usage__2_.pdf\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faDownload,\n    id: \"iconDownload\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498\n    },\n    __self: this\n  }), \"T\\xE9l\\xE9charger un exemple de contrat IFCE\")), React.createElement(\"div\", {\n    id: \"legalNotices\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: () => setCocheLegalNotices(!cocheLegalNotices),\n    type: \"checkbox\",\n    name: \"inputLegalNotices\",\n    id: \"inputLegalNotices\",\n    value: cocheLegalNotices,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510\n    },\n    __self: this\n  }, \"J'accepte les\", React.createElement(\"a\", {\n    href: \"LegalNotices\",\n    rel: \"noopener noreferrer\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512\n    },\n    __self: this\n  }, \" mentions l\\xE9gales\"))), React.createElement(Recaptcha, {\n    sitekey: \"6LenRsYUAAAAAOj8qWl5Rp66bucQCNtOKczLvviT\",\n    render: \"explicit\",\n    onChange: onChanger,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    id: \"submit\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    id: \"button_register\",\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522\n    },\n    __self: this\n  }, \"Envoyer le formulaire\"), React.createElement(\"div\", {\n    id: \"msgSend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 530\n    },\n    __self: this\n  }, React.createElement(Collapse, {\n    in: openGood,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531\n    },\n    __self: this\n  }, React.createElement(Dialog, {\n    open: openGood,\n    TransitionComponent: Transition,\n    keepMounted: true,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-slide-title\",\n    \"aria-describedby\": \"alert-dialog-slide-description\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532\n    },\n    __self: this\n  }, React.createElement(Alert, {\n    action: React.createElement(IconButton, {\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      size: \"small\",\n      onClick: () => {\n        setOpenGood(false);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544\n      },\n      __self: this\n    }, React.createElement(CloseIcon, {\n      fontSize: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541\n    },\n    __self: this\n  }, \"Annonce post\\xE9e avec succ\\xE8s ! Vous allez \\xEAtre redirig\\xE9 vers la page des annonces.\")))), React.createElement(Dialog, {\n    open: openBad,\n    TransitionComponent: Transition,\n    keepMounted: true,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-slide-title\",\n    \"aria-describedby\": \"alert-dialog-slide-description\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562\n    },\n    __self: this\n  }, React.createElement(Alert, {\n    severity: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571\n    },\n    __self: this\n  }, \"Vous devez remplir les champs obligatoires *\")))))));\n};\n\nexport default RegisterAdverts;","map":{"version":3,"sources":["/home/violette/Bureau/projet3/FRONT_COPIE_nantes-0919-js-CGouestre-front (copie)/src/Components/RegisterAdverts.jsx"],"names":["React","useState","useEffect","axios","Recaptcha","faCrosshairs","faDownload","FontAwesomeIcon","Alert","Autocomplete","CloseIcon","Collapse","Dialog","FormControl","FormControlLabel","FormLabel","ListSubheader","makeStyles","withStyles","MenuItem","NavigationIcon","IconButton","InputLabel","Radio","RadioGroup","Select","Slide","TextField","teal","$","Navbar","apiEndPoint","useStyles","theme","root","margin","spacing","width","alert","height","formControl","minWidth","selectEmpty","marginTop","Transition","forwardRef","props","ref","RegisterAdverts","classes","openBad","setOpenBad","openGood","setOpenGood","handleClose","statusServeur","setStatusServeur","code","latitude","longitude","name","email","phone","undefined","title","location","price","description","types","category","picture","leurre","form","setForm","submitForm","formData","FormData","append","config","headers","post","then","handleRedirection","window","setTimeout","console","log","catch","error","inputLabel","useRef","labelWidth","setLabelWidth","SampleComponent","current","offsetWidth","services","setServices","pensions","setPensions","activ","setActiv","ventes","setVentes","get","result","data","value","setValue","handleChange","event","target","BlackRadio","color","checked","readURL","input","files","reader","FileReader","onload","e","attr","readAsDataURL","change","cocheLegalNotices","setCocheLegalNotices","isEnabled","length","isVerified","setIsVerified","onChanger","handleSubmit","preventDefault","handleButton","navigator","geolocation","getCurrentPosition","position","lat","coords","long","response","codes","codesPostaux","loc","Math","min","nom","departement","newCities","setNewCities","handleNewCities","currentTarget","textContent","cities","forEach","city","split","centre","coordinates","map","id","params","display"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/no-unescaped-entities */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable no-unused-vars */\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Recaptcha from 'react-google-recaptcha';\nimport { faCrosshairs, faDownload } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Alert from '@material-ui/lab/Alert';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Collapse from '@material-ui/core/Collapse';\nimport Dialog from '@material-ui/core/Dialog';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport NavigationIcon from '@material-ui/icons/Navigation';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Select from '@material-ui/core/Select';\nimport Slide from '@material-ui/core/Slide';\nimport TextField from '@material-ui/core/TextField';\nimport { teal } from '@material-ui/core/colors';\nimport $ from 'jquery';\nimport './css/RegisterAdverts.css';\nimport Navbar from './Navbar/Navbar';\nimport { apiEndPoint } from '../config';\n\n// --------CONFIG MATERIAL-UI----------//\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: 100,\n      '& > *': {\n        margin: theme.spacing(1),\n        width: '100%',\n      },\n    },\n    alert: {\n      height: '100%',\n    },\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst Transition = React.forwardRef((props, ref) => (\n  <Slide direction=\"up\" ref={ref} {...props} />\n));\n\n// --------COMPOSANT RegisterAdverts------//\nconst RegisterAdverts = () => {\n  const classes = useStyles();\n\n  // ---------------TOASTER SUCCESS/FAIL------------------//\n\n  const [openBad, setOpenBad] = React.useState(false);\n  const [openGood, setOpenGood] = React.useState(false);\n  const handleClose = () => {\n    setOpenBad(false);\n  };\n\n  // --------POST vers API--------- //\n\n  const [statusServeur, setStatusServeur] = useState(true);\n  const [form, setForm] = useState({\n    code: '',\n    latitude: '',\n    longitude: '',\n    name: '',\n    email: '',\n    phone: undefined,\n    title: '',\n    location: '',\n    price: undefined,\n    description: '',\n    types: 1,\n    category: '',\n    picture: null,\n    leurre: '',\n  });\n\n  const submitForm = () => {\n    const formData = new FormData();\n\n    formData.append('types', form.types);\n    formData.append('name', form.name);\n    formData.append('email', form.email);\n    formData.append('phone', form.phone);\n    formData.append('location', form.location);\n    formData.append('title', form.title);\n    formData.append('price', form.price);\n    formData.append('description', form.description);\n    formData.append('category_id', form.category);\n    formData.append('picture', form.picture);\n    formData.append('latitude', form.latitude);\n    formData.append('longitude', form.longitude);\n\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data',\n      },\n    };\n\n    axios.post(`${apiEndPoint}/advert`, formData, config)\n      .then(() => {\n        const handleRedirection = () => { // redirection vers la page Advert après poste de l'annonce\n          window.location = '/advertsPage';\n        };\n        setStatusServeur(statusServeur);\n        setOpenGood(true);\n        setTimeout(handleRedirection, 5000);\n        console.log(form);\n      })\n      .catch((error) => {\n        if (error) {\n          setOpenBad(true);\n        }\n      });\n  };\n\n  useEffect(() => {\n    console.log(form);\n  }, [form]);\n\n  // ---------------RECUPERER LES DIFFERENTES CATEGORIES D'ANNONCES------------------//\n\n  // ---------------Config Material-ui pour les catégories (visuel)------------------//\n  const inputLabel = React.useRef(null);\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  const SampleComponent = () => { // ne pas supprimer même si grisé, sert à donner\n  // le format pour le select des 'catégories à choisir'\n    useEffect(() => {\n      setLabelWidth(inputLabel.current.offsetWidth);\n    }, []);\n  };\n  // ---------------axios des différentes catégories------------------//\n  const [services, setServices] = useState([]);\n  const [pensions, setPensions] = useState([]);\n  const [activ, setActiv] = useState([]);\n  const [ventes, setVentes] = useState([]);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/echanges`)\n      .then((result) => {\n        setServices(result.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/pensions`)\n      .then((result) => {\n        setPensions(result.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/activites`)\n      .then((result) => {\n        setActiv(result.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/ventes`)\n      .then((result) => {\n        setVentes(result.data);\n      });\n  }, []);\n\n\n  /* --------- MATERIAL_UI : Je propose/Je recherche ------------------*/\n\n  const [value, setValue] = React.useState('female');\n  const handleChange = (event) => {\n    setValue(event.target.value);\n  };\n  const BlackRadio = withStyles({\n    root: {\n      color: teal[500],\n      '&$checked': {\n        color: teal[500],\n      },\n    },\n    checked: {},\n  })((props) => <Radio color=\"default\" {...props} />);\n\n  // ---------------PREVIEW PICTURE DOWNLOAD (jquery)------------------//\n\n  const readURL = (input) => {\n    if (input.files && input.files[0]) {\n      const reader = new FileReader();\n      reader.onload = function (e) {\n        $('#blah').attr('src', e.target.result);\n      };\n      reader.readAsDataURL(input.files[0]);\n    }\n  };\n  $('#imgInp').change(function () {\n    readURL(this);\n  });\n\n  // ----------------LABELS OBLIGATOIRES------------------//\n\n  const [cocheLegalNotices, setCocheLegalNotices] = useState(false);\n\n  const isEnabled = form.category !== 'Choisir une catégorie *'\n    && form.category !== ''\n    && form.title.length > 0\n    && form.description.length > 0\n    && form.location.length > 0\n    && form.email.length > 0;\n\n  // ---------------RECAPTCHA----------------//\n\n  const [isVerified, setIsVerified] = useState(false);\n\n  const onChanger = () => {\n    setIsVerified(true);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isEnabled && isVerified && cocheLegalNotices) {\n      submitForm();\n    } else {\n      setOpenBad(true);\n    }\n  };\n\n  // ---------------BUTTON 'LOCALISEZ-MOI' ----------------//\n\n  const handleButton = (e) => {\n    e.preventDefault();\n    navigator.geolocation.getCurrentPosition((position) => {\n      const lat = position.coords.latitude;\n      const long = position.coords.longitude;\n      axios.get(`https://geo.api.gouv.fr/communes?lat=${position.coords.latitude}&lon=${position.coords.longitude}&fields=nom,departement,codesPostaux`)\n        .then((response) => {\n          const codes = response.data[0].codesPostaux;\n          const loc = `${Math.min(...codes)} ${response.data[0].nom} - ${response.data[0].departement.nom}`;\n          setForm({\n            ...form, location: loc, latitude: lat, longitude: long,\n          });\n        });\n    });\n  };\n\n  // ---------------AUTOCOMPLETION----------------//\n\n  const [newCities, setNewCities] = useState([]);\n\n  const handleNewCities = (e) => {\n    setForm({\n      ...form, location: e.currentTarget.textContent, leurre: e.currentTarget.textContent,\n    });\n    axios.get(`https://geo.api.gouv.fr/communes?nom=${e.target.value}&fields=nom,departement,codesPostaux,centre&boost=population&limit=20`)\n      .then((response) => {\n        if (response.data.length > 0) {\n          let cities = [];\n          response.data.forEach((city) => {\n            if (city.departement) {\n              const codes = city.codesPostaux;\n              cities = [...cities, `${Math.min(...codes)} ${city.nom} - ${city.departement.nom}`];\n            } else {\n              cities = [...cities, city.nom];\n            }\n          });\n          setNewCities(cities);\n        } else {\n          setNewCities([]);\n        }\n      });\n  };\n\n  useEffect(() => {\n    setForm({ ...form, latitude: '', longitude: '' });\n    if (form.location.split(' ').length > 1 && form.latitude === '') {\n      const code = form.location.split(' ')[0];\n      axios.get(`https://geo.api.gouv.fr/communes?codePostal=${code}&fields=centre`)\n        .then((response) => {\n          const lat = response.data[0].centre.coordinates[1];\n          const long = response.data[0].centre.coordinates[0];\n          setForm({ ...form, latitude: lat, longitude: long });\n        });\n    }\n  }, [form.leurre]);\n\n  // ---------------RETURN----------------//\n  return (\n    <>\n      <Navbar />\n      <div id=\"registerAdverts\">\n        <div className=\"form-style-5\">\n          <h1>Déposer une annonce</h1>\n          <form id=\"form1\" runat=\"server\">\n            <p>* Champs obligatoires</p>\n            <div id=\"containerForm\">\n              <fieldset>\n                <legend>\n                  <span className=\"number\">1</span>\n                  Annonce\n                </legend>\n                <div id=\"catAnnonce\">\n                  <FormControl component=\"fieldset\">\n                    <RadioGroup aria-label=\"position\" name=\"position\" value={value} onChange={handleChange} row>\n                      <FormControlLabel\n                        value=\"start\"\n                        control={<BlackRadio color=\"primary\" />}\n                        label=\"Je propose\"\n                        labelPlacement=\"start\"\n                        onChange={() => setForm({ ...form, types: 1 })}\n                        checked={form.types}\n                      />\n                      <FormControlLabel\n                        value=\"end\"\n                        control={<BlackRadio color=\"primary\" />}\n                        label=\"Je recherche\"\n                        labelPlacement=\"end\"\n                        onChange={() => setForm({ ...form, types: 0 })}\n                        checked={!form.types}\n                      />\n                    </RadioGroup>\n                  </FormControl>\n                </div>\n                <FormControl className={classes.formControl}>\n                  <InputLabel id=\"demo-simple-select-label\">Choisir une catégorie *</InputLabel>\n                  <Select\n                    labelId=\"demo-simple-select-label\"\n                    required=\"required\"\n                    id=\"demo-simple-select\"\n                    onChange={(event) => {\n                      setForm({ ...form, category: event.target.value });\n                    }}\n                  >\n                    <ListSubheader>Echanges de services</ListSubheader>\n                    {services.map((category) => (\n                      <MenuItem value={category.id} key={category.name}>{category.name}</MenuItem>\n                    ))}\n                    ;\n\n                    <ListSubheader>Pensions</ListSubheader>\n                    {pensions.map((category) => (\n                      <MenuItem value={category.id} key={category.name}>{category.name}</MenuItem>\n                    ))}\n                    ;\n\n                    <ListSubheader>Activités et balades</ListSubheader>\n                    {activ.map((category) => (\n                      <MenuItem value={category.id} key={category.name}>{category.name}</MenuItem>\n                    ))}\n                    ;\n\n                    <ListSubheader>Ventes/Dons/Locations</ListSubheader>\n                    {ventes.map((category) => (\n                      <MenuItem value={category.id} key={category.name}>{category.name}</MenuItem>\n                    ))}\n                    ;\n                  </Select>\n                </FormControl>\n\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"Titre\"\n                  required=\"required\"\n                  variant=\"standard\"\n                  value={form.title}\n                  maxLength=\"100\"\n                  onChange={(event) => setForm({ ...form, title: event.target.value })}\n                />\n                <TextField\n                  id=\"standard-textarea\"\n                  multiline\n                  rowsMax=\"7\"\n                  label=\"Description\"\n                  type=\"text\"\n                  variant=\"standard\"\n                  value={form.description}\n                  required=\"required\"\n                  maxLength=\"1200\"\n                  onChange={(event) => setForm({ ...form, description: event.target.value })}\n                  className={classes.root}\n                  noValidate\n                  autoComplete=\"off\"\n                />\n                <p id=\"describeLength\">\n                  caractères restants :\n                  {1200 - form.description.length}\n                  / 1200\n                </p>\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"Prix\"\n                  type=\"number\"\n                  value={form.price}\n                  maxLength=\"10\"\n                  onChange={(event) => setForm({ ...form, price: event.target.value })}\n                />\n                <div id=\"location\"> \n                  <IconButton onClick={handleButton} color=\"primary\" aria-label=\"directions\">\n                    <NavigationIcon />\n                  </IconButton>\n                  <Autocomplete\n                    onChange={handleNewCities}\n                    options={newCities}\n                    value={form.location}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        onChange={handleNewCities}\n                        label=\"Ville *\"\n                        placeholder=\"Entrer votre ville *\"\n                        margin=\"normal\"\n                        fullWidth\n                        variant=\"standard\"\n                        id=\"standard-basic\"\n                      />\n                    )}\n                  />\n                </div>\n                <div id=\"buttonsImage\">\n                  <label className=\"downloadImg\" htmlFor=\"imgInp\">\n                  Télécharger une image\n                  <input\n                    onChange={(event) => setForm({ ...form, picture: event.target.files[0] })}\n                    type=\"file\"\n                    placeholder=\"Télécharger une image\"\n                    name=\"picture\"\n                    maxLength=\"100\"\n                    id=\"imgInp\"\n                    style={{ display: 'none' }}\n                  />\n                </label>\n                <button\n                  onClick={(e) => setForm({ ...form, picture: null }, e.preventDefault())}\n                  className=\"button_register\"\n                  type=\"button\"\n                  id=\"ImgDelete\"\n                >\n                  Supprimer l'image\n                </button>\n                </div>\n                \n                <img id=\"blah\" src=\"#\" alt=\"fairegardersoncheval\" className={!form.picture ? 'imgUnloaded' : 'imgLoaded'} />\n              </fieldset>\n              <fieldset>\n                <legend>\n                  <span className=\"number\">2</span>\n                  Contact\n                </legend>\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"Nom\"\n                  variant=\"standard\"\n                  value={form.name}\n                  onChange={(event) => setForm({ ...form, name: event.target.value })}\n                />\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"Email\"\n                  required=\"required\"\n                  variant=\"standard\"\n                  value={form.email}\n                  maxLength=\"50\"\n                  onChange={(event) => setForm({ ...form, email: event.target.value })}\n                />\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"Téléphone\"\n                  type=\"tel\"\n                  variant=\"standard\"\n                  value={form.phone}\n                  maxLength=\"10\"\n                  name=\"phone\"\n                  onChange={(event) => setForm({ ...form, phone: event.target.value })}\n                />\n                <div id=\"coches\">\n                  <p>\n                    <a\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      href=\"https://www.ifce.fr/wp-content/uploads/2019/09/Pret_a_usage__2_.pdf\"\n                    >\n                      <FontAwesomeIcon icon={faDownload} id=\"iconDownload\" />\n                      Télécharger un exemple de contrat IFCE\n                    </a>\n                  </p>\n                  <div id=\"legalNotices\">\n                    <input\n                      onChange={() => setCocheLegalNotices(!cocheLegalNotices)}\n                      type=\"checkbox\"\n                      name=\"inputLegalNotices\"\n                      id=\"inputLegalNotices\"\n                      value={cocheLegalNotices}\n                    />\n                    <p>\n                      J'accepte les\n                      <a href=\"LegalNotices\" rel=\"noopener noreferrer\" target=\"_blank\"> mentions légales</a>\n                    </p>\n                  </div>\n                <Recaptcha\n                  sitekey=\"6LenRsYUAAAAAOj8qWl5Rp66bucQCNtOKczLvviT\"\n                  render=\"explicit\"\n                  onChange={onChanger}\n                  />\n                </div>\n              </fieldset>\n              <button id=\"submit\"\n                type=\"submit\"\n                onClick={handleSubmit}\n                id=\"button_register\"\n                href=\"#\"\n              >\n                Envoyer le formulaire\n              </button>\n              <div id=\"msgSend\">\n                <Collapse in={openGood}>\n                  <Dialog\n                    open={openGood}\n                    TransitionComponent={Transition}\n                    keepMounted\n                    onClose={handleClose}\n                    aria-labelledby=\"alert-dialog-slide-title\"\n                    aria-describedby=\"alert-dialog-slide-description\"\n                    onClick={handleClose}\n                  >\n                  <Alert\n                      action={\n                        (\n                          <IconButton\n                            aria-label=\"close\"\n                            color=\"inherit\"\n                            size=\"small\"\n                            onClick={() => {\n                              setOpenGood(false);\n                            }}\n                          >\n                            <CloseIcon fontSize=\"inherit\" />\n                          </IconButton>\n                        )\n                      }\n                    >\n                      Annonce postée avec succès ! Vous allez être redirigé vers la page des annonces.\n                    </Alert>\n                  </Dialog>\n                </Collapse>\n              </div>\n              <Dialog\n                open={openBad}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n                onClick={handleClose}\n              >\n                <Alert severity=\"error\">Vous devez remplir les champs obligatoires *</Alert>\n              </Dialog>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default RegisterAdverts;\n"]},"metadata":{},"sourceType":"module"}