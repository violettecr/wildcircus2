{"ast":null,"code":"import _slicedToArray from \"/home/violette/Bureau/odyssey/checkpoint_04/FRONT_TRAVAIL_wildcircus2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/violette/Bureau/odyssey/checkpoint_04/FRONT_TRAVAIL_wildcircus2/src/Components/Visitor.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { apiEndPoint } from '../../config';\nimport './css/Visitor.css';\nimport axios from 'axios';\n\nconst Visitor = () => {\n  const _useState = useState({\n    code: '',\n    latitude: '',\n    longitude: '',\n    name: '',\n    email: '',\n    phone: undefined,\n    title: '',\n    location: '',\n    price: undefined,\n    description: '',\n    types: 1,\n    category: '',\n    picture: null,\n    leurre: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        form = _useState2[0],\n        setForm = _useState2[1];\n\n  const submitForm = () => {\n    const formData = new FormData();\n    formData.append('types', form.types);\n    formData.append('name', form.name);\n    formData.append('email', form.email);\n    formData.append('phone', form.phone);\n    formData.append('location', form.location);\n    formData.append('title', form.title);\n    formData.append('price', form.price);\n    formData.append('description', form.description);\n    formData.append('category_id', form.category);\n    formData.append('picture', form.picture);\n    formData.append('latitude', form.latitude);\n    formData.append('longitude', form.longitude);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post(`${apiEndPoint}/advert`, formData, config).then(() => {\n      const handleRedirection = () => {\n        window.location = '/advertsPage';\n      };\n\n      console.log(form);\n    }).catch(error => {\n      if (error) {\n        console.log('pas ok');\n      }\n    });\n  };\n\n  useEffect(() => {\n    console.log(form);\n  }, [form]);\n  return React.createElement(\"div\", {\n    id: \"visitor\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Votre exp\\xE9rience du Wild Circus\"), React.createElement(\"input\", {\n    type: \"file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }));\n};\n\nexport default Visitor;","map":{"version":3,"sources":["/home/violette/Bureau/odyssey/checkpoint_04/FRONT_TRAVAIL_wildcircus2/src/Components/Visitor.jsx"],"names":["React","useEffect","useState","apiEndPoint","axios","Visitor","code","latitude","longitude","name","email","phone","undefined","title","location","price","description","types","category","picture","leurre","form","setForm","submitForm","formData","FormData","append","config","headers","post","then","handleRedirection","window","console","log","catch","error"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { apiEndPoint } from '../../config';\nimport './css/Visitor.css';\nimport axios from 'axios';\n\nconst Visitor = () => {\n\n  const [form, setForm] = useState({\n    code: '',\n    latitude: '',\n    longitude: '',\n    name: '',\n    email: '',\n    phone: undefined,\n    title: '',\n    location: '',\n    price: undefined,\n    description: '',\n    types: 1,\n    category: '',\n    picture: null,\n    leurre: '',\n  });\n\n  const submitForm = () => {\n    const formData = new FormData();\n\n    formData.append('types', form.types);\n    formData.append('name', form.name);\n    formData.append('email', form.email);\n    formData.append('phone', form.phone);\n    formData.append('location', form.location);\n    formData.append('title', form.title);\n    formData.append('price', form.price);\n    formData.append('description', form.description);\n    formData.append('category_id', form.category);\n    formData.append('picture', form.picture);\n    formData.append('latitude', form.latitude);\n    formData.append('longitude', form.longitude);\n\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data',\n      },\n    };\n\n    axios.post(`${apiEndPoint}/advert`, formData, config)\n      .then(() => {\n        const handleRedirection = () => {\n          window.location = '/advertsPage';\n        };\n        console.log(form);\n      })\n      .catch((error) => {\n        if (error) {\n          console.log('pas ok')\n        }\n      });\n  };\n\n  useEffect(() => {\n    console.log(form);\n  }, [form]);\n\n\n return (\n   <div id=\"visitor\">\n     <h1>Votre expérience du Wild Circus</h1>\n     <input\n      type=\"file\">\n     </input>\n   </div>\n )\n}\n\nexport default Visitor;"]},"metadata":{},"sourceType":"module"}