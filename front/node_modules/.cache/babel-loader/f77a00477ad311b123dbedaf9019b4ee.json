{"ast":null,"code":"import _objectSpread from \"/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/src/Components/RegisterAdverts.jsx\";\n\n/* eslint-disable react/jsx-props-no-spreading */\n\n/* eslint-disable react/no-unescaped-entities */\n\n/* eslint-disable no-nested-ternary */\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Recaptcha from 'react-google-recaptcha';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCrosshairs, faDownload } from '@fortawesome/free-solid-svg-icons';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './css/RegisterAdverts.css';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Collapse from '@material-ui/core/Collapse';\nimport Dialog from '@material-ui/core/Dialog';\nimport Alert from '@material-ui/lab/Alert';\nimport Slide from '@material-ui/core/Slide';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport $ from 'jquery';\nimport Navbar from './Navbar/Navbar';\nimport { apiEndPoint } from '../config';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '100%'\n    }\n  },\n  alert: {\n    height: '100%'\n  }\n}));\n\nconst RegisterAdverts = () => {\n  // ---------------TOASTER SUCCESS/FAIL------------------//\n  const toasterSuccess = () => toast.success('Annonce postée avec succès !', {\n    position: 'top-center',\n    autoClose: 7000,\n    hideProgressBar: true,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true\n  });\n\n  const toasterFail = () => toast.error(\"Il semble qu'il y ait une erreur dans le formulaire. Veuillez vérifier la complétion des champs obligatoires. Si l'erreur persiste, contacter l'administrateur du site.\", {\n    position: 'top-center',\n    autoClose: 10000,\n    hideProgressBar: true,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true\n  }); // --------POST vers API--------- //\n\n\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        statusServeur = _useState2[0],\n        setStatusServeur = _useState2[1];\n\n  const _useState3 = useState({\n    code: '',\n    latitude: '',\n    longitude: '',\n    name: '',\n    email: '',\n    phone: undefined,\n    title: '',\n    location: '',\n    price: undefined,\n    description: '',\n    types: 1,\n    category: '',\n    picture: null,\n    leurre: ''\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        form = _useState4[0],\n        setForm = _useState4[1];\n\n  const submitForm = () => {\n    const formData = new FormData();\n    formData.append('types', form.types);\n    formData.append('name', form.name);\n    formData.append('email', form.email);\n    formData.append('phone', form.phone);\n    formData.append('location', form.location);\n    formData.append('title', form.title);\n    formData.append('price', form.price);\n    formData.append('description', form.description);\n    formData.append('category_id', form.category);\n    formData.append('picture', form.picture);\n    formData.append('latitude', form.latitude);\n    formData.append('longitude', form.longitude);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post(`${apiEndPoint}/advert`, formData, config).then(() => {\n      const handleRedirection = () => {\n        window.location = '/advertsPage';\n      };\n\n      setStatusServeur(statusServeur);\n      toasterSuccess();\n      setTimeout(handleRedirection, 3500);\n      console.log(form);\n    }).catch(error => {\n      if (error) {\n        toasterFail();\n      }\n    });\n  };\n\n  useEffect(() => {\n    console.log(form);\n  }, [form]); // ---------------RECUPERER LES DIFFERENTES CATEGORIES D'ANNONCES------------------//\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        services = _useState6[0],\n        setServices = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        pensions = _useState8[0],\n        setPensions = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        activ = _useState10[0],\n        setActiv = _useState10[1];\n\n  const _useState11 = useState([]),\n        _useState12 = _slicedToArray(_useState11, 2),\n        ventes = _useState12[0],\n        setVentes = _useState12[1];\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/echanges`).then(result => {\n      setServices(result.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/pensions`).then(result => {\n      setPensions(result.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/activites`).then(result => {\n      setActiv(result.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/ventes`).then(result => {\n      setVentes(result.data);\n    });\n  }, []); // ---------------PREVIEW PICTURE DOWNLOAD (jquery)------------------//\n\n  const readURL = input => {\n    if (input.files && input.files[0]) {\n      const reader = new FileReader();\n\n      reader.onload = function (e) {\n        $('#blah').attr('src', e.target.result);\n      };\n\n      reader.readAsDataURL(input.files[0]);\n    }\n  };\n\n  $('#imgInp').change(function () {\n    readURL(this);\n  }); // ----------------LABELS OBLIGATOIRES------------------//\n\n  const _useState13 = useState(false),\n        _useState14 = _slicedToArray(_useState13, 2),\n        cocheLegalNotices = _useState14[0],\n        setCocheLegalNotices = _useState14[1];\n\n  const isEnabled = form.category !== 'Choisir une catégorie *' && form.category !== '' && form.title.length > 0 && form.description.length > 0 && form.location.length > 0 && form.email.length > 0; // ---------------RECAPTCHA----------------//\n\n  const _useState15 = useState(false),\n        _useState16 = _slicedToArray(_useState15, 2),\n        isVerified = _useState16[0],\n        setIsVerified = _useState16[1];\n\n  const onChanger = () => {\n    setIsVerified(true);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (isEnabled && isVerified && cocheLegalNotices) {\n      submitForm();\n    } else {\n      toasterFail();\n    }\n  }; // ---------------BUTTON 'LOCALISEZ-MOI' ----------------//\n\n\n  const handleButton = e => {\n    e.preventDefault();\n    navigator.geolocation.getCurrentPosition(position => {\n      const lat = position.coords.latitude;\n      const long = position.coords.longitude;\n      axios.get(`https://geo.api.gouv.fr/communes?lat=${position.coords.latitude}&lon=${position.coords.longitude}&fields=nom,departement,codesPostaux`).then(response => {\n        const codes = response.data[0].codesPostaux;\n        const loc = `${Math.min(...codes)} ${response.data[0].nom} - ${response.data[0].departement.nom}`;\n        setForm(_objectSpread({}, form, {\n          location: loc,\n          latitude: lat,\n          longitude: long\n        }));\n      });\n    });\n  }; // ---------------AUTOCOMPLETION----------------//\n\n\n  const _useState17 = useState([]),\n        _useState18 = _slicedToArray(_useState17, 2),\n        newCities = _useState18[0],\n        setNewCities = _useState18[1];\n\n  const handleNewCities = e => {\n    setForm(_objectSpread({}, form, {\n      location: e.currentTarget.textContent,\n      leurre: e.currentTarget.textContent\n    }));\n    axios.get(`https://geo.api.gouv.fr/communes?nom=${e.target.value}&fields=nom,departement,codesPostaux,centre&boost=population&limit=20`).then(response => {\n      if (response.data.length > 0) {\n        let cities = [];\n        response.data.forEach(city => {\n          if (city.departement) {\n            const codes = city.codesPostaux;\n            cities = [...cities, `${Math.min(...codes)} ${city.nom} - ${city.departement.nom}`];\n          } else {\n            cities = [...cities, city.nom];\n          }\n        });\n        setNewCities(cities);\n      } else {\n        setNewCities([]);\n      }\n    });\n  };\n\n  useEffect(() => {\n    setForm(_objectSpread({}, form, {\n      latitude: '',\n      longitude: ''\n    }));\n\n    if (form.location.split(' ').length > 1 && form.latitude === '') {\n      const code = form.location.split(' ')[0];\n      axios.get(`https://geo.api.gouv.fr/communes?codePostal=${code}&fields=centre`).then(response => {\n        const lat = response.data[0].centre.coordinates[1];\n        const long = response.data[0].centre.coordinates[0];\n        setForm(_objectSpread({}, form, {\n          latitude: lat,\n          longitude: long\n        }));\n      });\n    }\n  }, [form.leurre]); // ---------------RETURN----------------//\n\n  return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"registerAdverts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-style-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262\n    },\n    __self: this\n  }, \"D\\xE9poser une annonce\"), React.createElement(\"form\", {\n    id: \"form1\",\n    runat: \"server\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264\n    },\n    __self: this\n  }, \"* Champs obligatoires\"), React.createElement(\"div\", {\n    id: \"containerForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268\n    },\n    __self: this\n  }, \"1\"), \"Description\"), React.createElement(\"div\", {\n    id: \"catAnnonce\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"offre\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }, \"Je propose\", React.createElement(\"input\", {\n    className: !form.types ? '' : 'ok',\n    onChange: () => setForm(_objectSpread({}, form, {\n      types: 1\n    })),\n    type: \"radio\",\n    name: \"offre\",\n    id: \"offre\",\n    value: form.types,\n    checked: form.types,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    htmlFor: \"demande\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276\n    },\n    __self: this\n  }, \"Je recherche\", React.createElement(\"input\", {\n    className: !form.types ? '' : 'ok',\n    onChange: () => setForm(_objectSpread({}, form, {\n      types: 0\n    })),\n    type: \"radio\",\n    name: \"demande\",\n    id: \"demande\",\n    value: form.types,\n    checked: !form.types,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }))), React.createElement(\"select\", {\n    required: \"required\",\n    name: \"field4\",\n    className: !form.category ? '' : form.category === 'Choisir une catégorie *' ? '' : 'ok',\n    onChange: event => {\n      setForm(_objectSpread({}, form, {\n        category: event.target.value\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    className: \"color_choisirCategorie\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289\n    },\n    __self: this\n  }, \"Choisir une cat\\xE9gorie *\"), React.createElement(\"optgroup\", {\n    label: \"Echanges de services\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }, services.map(category => React.createElement(\"option\", {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }, category.name)), \";\"), React.createElement(\"optgroup\", {\n    label: \"Pensions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296\n    },\n    __self: this\n  }, pensions.map(category => React.createElement(\"option\", {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  }, category.name)), \";\"), React.createElement(\"optgroup\", {\n    label: \"Activit\\xE9s et balades\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }, activ.map(category => React.createElement(\"option\", {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }, category.name)), \";\"), React.createElement(\"optgroup\", {\n    label: \"Ventes/Dons/Locations\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308\n    },\n    __self: this\n  }, ventes.map(category => React.createElement(\"option\", {\n    value: category.id,\n    key: category.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }, category.name)), \";\")), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"titre\",\n    required: \"required\",\n    variant: \"standard\",\n    value: form.title,\n    required: \"required\",\n    maxLength: \"100\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      title: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"standard-multiline-static\",\n    label: \"description\",\n    required: \"required\",\n    multiline: true,\n    rows: \"7\",\n    type: \"text\",\n    variant: \"standard\",\n    value: form.description,\n    id: \"zoneTexte\",\n    required: \"required\",\n    maxLength: \"1200\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      description: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"describeLength\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  }, \"caract\\xE8res restants :\", 1200 - form.description.length, \"/ 1200\"), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"prix\",\n    type: \"tel\",\n    variant: \"standard\",\n    value: form.price,\n    maxLength: \"10\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      price: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344\n    },\n    __self: this\n  })), React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355\n    },\n    __self: this\n  }, \"2\"), \"T\\xE9l\\xE9charger une image\"), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"downloadImg\",\n    htmlFor: \"imgInp\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359\n    },\n    __self: this\n  }, \"T\\xE9l\\xE9charger une image\", React.createElement(\"input\", {\n    className: !form.picture ? '' : 'ok',\n    onChange: event => setForm(_objectSpread({}, form, {\n      picture: event.target.files[0]\n    })),\n    type: \"file\",\n    placeholder: \"T\\xE9l\\xE9charger une image\",\n    name: \"picture\",\n    maxLength: \"100\",\n    id: \"imgInp\",\n    style: {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    onClick: e => setForm(_objectSpread({}, form, {\n      picture: null\n    }), e.preventDefault()),\n    className: \"button_register\",\n    type: \"button\",\n    id: \"ImgDelete\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372\n    },\n    __self: this\n  }, \"Supprimer l'image\"), React.createElement(\"img\", {\n    id: \"blah\",\n    src: \"#\",\n    alt: \"fairegardersoncheval\",\n    className: !form.picture ? 'imgUnloaded' : 'imgLoaded',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384\n    },\n    __self: this\n  }, \"3\"), \"Localisation\"), React.createElement(Autocomplete, {\n    onChange: handleNewCities,\n    options: newCities,\n    className: !form.location ? '' : 'ok',\n    value: form.location,\n    renderInput: params => React.createElement(TextField, Object.assign({}, params, {\n      onChange: handleNewCities,\n      label: \"Localisation *\",\n      className: !form.location ? '' : 'ok',\n      placeholder: \"Entrer votre ville *\",\n      margin: \"normal\",\n      fullWidth: true,\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    id: \"localize\",\n    onClick: handleButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faCrosshairs,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406\n    },\n    __self: this\n  }), \"Localisez moi !\")), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414\n    },\n    __self: this\n  }, \"4\"), \"Contact\"), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"nom\",\n    variant: \"standard\",\n    value: form.name,\n    onChange: event => setForm(_objectSpread({}, form, {\n      name: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"email\",\n    required: \"required\",\n    variant: \"standard\",\n    value: form.email,\n    maxLength: \"50\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      email: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"t\\xE9l\\xE9phone\",\n    type: \"tel\",\n    variant: \"standard\",\n    value: form.phone,\n    maxLength: \"10\",\n    name: \"phone\",\n    onChange: event => setForm(_objectSpread({}, form, {\n      phone: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433\n    },\n    __self: this\n  }), React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444\n    },\n    __self: this\n  }, \"5\"), \"D\\xE9poser l'annonce\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: \"https://www.ifce.fr/wp-content/uploads/2019/09/Pret_a_usage__2_.pdf\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faDownload,\n    id: \"iconDownload\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453\n    },\n    __self: this\n  }), \"T\\xE9l\\xE9charger un exemple de contrat IFCE\")), React.createElement(\"div\", {\n    id: \"legalNotices\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: () => setCocheLegalNotices(!cocheLegalNotices),\n    type: \"checkbox\",\n    name: \"inputLegalNotices\",\n    id: \"inputLegalNotices\",\n    value: cocheLegalNotices,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465\n    },\n    __self: this\n  }, \"J'accepte les\", React.createElement(\"a\", {\n    href: \"LegalNotices\",\n    rel: \"noopener noreferrer\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467\n    },\n    __self: this\n  }, \" mentions l\\xE9gales\")))), React.createElement(Recaptcha, {\n    sitekey: \"6LenRsYUAAAAAOj8qWl5Rp66bucQCNtOKczLvviT\",\n    render: \"explicit\",\n    onChange: onChanger,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: handleSubmit,\n    id: \"button_register\",\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476\n    },\n    __self: this\n  }, \"Envoyer le formulaire\"), React.createElement(ToastContainer, {\n    position: \"top-center\",\n    autoClose: 7000,\n    hideProgressBar: true,\n    newestOnTop: true,\n    closeOnClick: true,\n    rtl: false,\n    pauseOnVisibilityChange: true,\n    draggable: true,\n    pauseOnHover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484\n    },\n    __self: this\n  }))))));\n};\n\nexport default RegisterAdverts;","map":{"version":3,"sources":["/home/violette/Bureau/projet3/FRONT_TRAVAIL_nantes-0919-js-CGouestre-front/src/Components/RegisterAdverts.jsx"],"names":["React","useState","useEffect","axios","Recaptcha","FontAwesomeIcon","faCrosshairs","faDownload","ToastContainer","toast","TextField","makeStyles","IconButton","CloseIcon","Collapse","Dialog","Alert","Slide","Autocomplete","$","Navbar","apiEndPoint","useStyles","theme","root","margin","spacing","width","alert","height","RegisterAdverts","toasterSuccess","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","toasterFail","error","statusServeur","setStatusServeur","code","latitude","longitude","name","email","phone","undefined","title","location","price","description","types","category","picture","leurre","form","setForm","submitForm","formData","FormData","append","config","headers","post","then","handleRedirection","window","setTimeout","console","log","catch","services","setServices","pensions","setPensions","activ","setActiv","ventes","setVentes","get","result","data","readURL","input","files","reader","FileReader","onload","e","attr","target","readAsDataURL","change","cocheLegalNotices","setCocheLegalNotices","isEnabled","length","isVerified","setIsVerified","onChanger","handleSubmit","preventDefault","handleButton","navigator","geolocation","getCurrentPosition","lat","coords","long","response","codes","codesPostaux","loc","Math","min","nom","departement","newCities","setNewCities","handleNewCities","currentTarget","textContent","value","cities","forEach","city","split","centre","coordinates","event","map","id","display","params"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/no-unescaped-entities */\n/* eslint-disable no-nested-ternary */\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Recaptcha from 'react-google-recaptcha';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCrosshairs, faDownload } from '@fortawesome/free-solid-svg-icons';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './css/RegisterAdverts.css';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Collapse from '@material-ui/core/Collapse';\nimport Dialog from '@material-ui/core/Dialog';\nimport Alert from '@material-ui/lab/Alert';\nimport Slide from '@material-ui/core/Slide';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport $ from 'jquery';\nimport Navbar from './Navbar/Navbar';\nimport { apiEndPoint } from '../config';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '100%',\n    },\n  },\n  alert: {\n    height: '100%',\n  },\n}));\n\nconst RegisterAdverts = () => {\n  // ---------------TOASTER SUCCESS/FAIL------------------//\n  const toasterSuccess = () => toast.success('Annonce postée avec succès !', {\n    position: 'top-center',\n    autoClose: 7000,\n    hideProgressBar: true,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n  });\n\n  const toasterFail = () => toast.error(\"Il semble qu'il y ait une erreur dans le formulaire. Veuillez vérifier la complétion des champs obligatoires. Si l'erreur persiste, contacter l'administrateur du site.\", {\n    position: 'top-center',\n    autoClose: 10000,\n    hideProgressBar: true,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n  });\n  // --------POST vers API--------- //\n\n  const [statusServeur, setStatusServeur] = useState(true);\n  const [form, setForm] = useState({\n    code: '',\n    latitude: '',\n    longitude: '',\n    name: '',\n    email: '',\n    phone: undefined,\n    title: '',\n    location: '',\n    price: undefined,\n    description: '',\n    types: 1,\n    category: '',\n    picture: null,\n    leurre: '',\n  });\n\n  const submitForm = () => {\n    const formData = new FormData();\n\n    formData.append('types', form.types);\n    formData.append('name', form.name);\n    formData.append('email', form.email);\n    formData.append('phone', form.phone);\n    formData.append('location', form.location);\n    formData.append('title', form.title);\n    formData.append('price', form.price);\n    formData.append('description', form.description);\n    formData.append('category_id', form.category);\n    formData.append('picture', form.picture);\n    formData.append('latitude', form.latitude);\n    formData.append('longitude', form.longitude);\n\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data',\n      },\n    };\n\n    axios.post(`${apiEndPoint}/advert`, formData, config)\n      .then(() => {\n        const handleRedirection = () => {\n          window.location = '/advertsPage';\n        };\n        setStatusServeur(statusServeur);\n        toasterSuccess();\n        setTimeout(handleRedirection, 3500);\n        console.log(form);\n      })\n      .catch((error) => {\n        if (error) {\n          toasterFail();\n        }\n      });\n  };\n\n  useEffect(() => {\n    console.log(form);\n  }, [form]);\n\n  // ---------------RECUPERER LES DIFFERENTES CATEGORIES D'ANNONCES------------------//\n\n  const [services, setServices] = useState([]);\n  const [pensions, setPensions] = useState([]);\n  const [activ, setActiv] = useState([]);\n  const [ventes, setVentes] = useState([]);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/echanges`)\n      .then((result) => {\n        setServices(result.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/pensions`)\n      .then((result) => {\n        setPensions(result.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/activites`)\n      .then((result) => {\n        setActiv(result.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`${apiEndPoint}/category/ventes`)\n      .then((result) => {\n        setVentes(result.data);\n      });\n  }, []);\n\n  // ---------------PREVIEW PICTURE DOWNLOAD (jquery)------------------//\n  const readURL = (input) => {\n    if (input.files && input.files[0]) {\n      const reader = new FileReader();\n      reader.onload = function (e) {\n        $('#blah').attr('src', e.target.result);\n      };\n      reader.readAsDataURL(input.files[0]);\n    }\n  };\n  $('#imgInp').change(function () {\n    readURL(this);\n  });\n\n  // ----------------LABELS OBLIGATOIRES------------------//\n\n  const [cocheLegalNotices, setCocheLegalNotices] = useState(false);\n\n  const isEnabled = form.category !== 'Choisir une catégorie *'\n    && form.category !== ''\n    && form.title.length > 0\n    && form.description.length > 0\n    && form.location.length > 0\n    && form.email.length > 0;\n\n  // ---------------RECAPTCHA----------------//\n\n  const [isVerified, setIsVerified] = useState(false);\n\n  const onChanger = () => {\n    setIsVerified(true);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isEnabled && isVerified && cocheLegalNotices) {\n      submitForm();\n    } else {\n      toasterFail();\n    }\n  };\n\n  // ---------------BUTTON 'LOCALISEZ-MOI' ----------------//\n\n  const handleButton = (e) => {\n    e.preventDefault();\n    navigator.geolocation.getCurrentPosition((position) => {\n      const lat = position.coords.latitude;\n      const long = position.coords.longitude;\n      axios.get(`https://geo.api.gouv.fr/communes?lat=${position.coords.latitude}&lon=${position.coords.longitude}&fields=nom,departement,codesPostaux`)\n        .then((response) => {\n          const codes = response.data[0].codesPostaux;\n          const loc = `${Math.min(...codes)} ${response.data[0].nom} - ${response.data[0].departement.nom}`;\n          setForm({\n            ...form, location: loc, latitude: lat, longitude: long,\n          });\n        });\n    });\n  };\n\n  // ---------------AUTOCOMPLETION----------------//\n\n  const [newCities, setNewCities] = useState([]);\n\n  const handleNewCities = (e) => {\n    setForm({\n      ...form, location: e.currentTarget.textContent, leurre: e.currentTarget.textContent,\n    });\n    axios.get(`https://geo.api.gouv.fr/communes?nom=${e.target.value}&fields=nom,departement,codesPostaux,centre&boost=population&limit=20`)\n      .then((response) => {\n        if (response.data.length > 0) {\n          let cities = [];\n          response.data.forEach((city) => {\n            if (city.departement) {\n              const codes = city.codesPostaux;\n              cities = [...cities, `${Math.min(...codes)} ${city.nom} - ${city.departement.nom}`];\n            } else {\n              cities = [...cities, city.nom];\n            }\n          });\n          setNewCities(cities);\n        } else {\n          setNewCities([]);\n        }\n      });\n  };\n\n  useEffect(() => {\n    setForm({ ...form, latitude: '', longitude: '' });\n    if (form.location.split(' ').length > 1 && form.latitude === '') {\n      const code = form.location.split(' ')[0];\n      axios.get(`https://geo.api.gouv.fr/communes?codePostal=${code}&fields=centre`)\n        .then((response) => {\n          const lat = response.data[0].centre.coordinates[1];\n          const long = response.data[0].centre.coordinates[0];\n          setForm({ ...form, latitude: lat, longitude: long });\n        });\n    }\n  }, [form.leurre]);\n\n  // ---------------RETURN----------------//\n\n  return (\n    <>\n      <Navbar />\n      <div id=\"registerAdverts\">\n        <div className=\"form-style-5\">\n          <h1>Déposer une annonce</h1>\n          <form id=\"form1\" runat=\"server\">\n            <p>* Champs obligatoires</p>\n            <div id=\"containerForm\">\n              <fieldset>\n                <legend>\n                  <span className=\"number\">1</span>\n                  Description\n              </legend>\n                <div id=\"catAnnonce\">\n                  <label htmlFor=\"offre\">\n                    Je propose\n                  <input className={!form.types ? '' : 'ok'} onChange={() => setForm({ ...form, types: 1 })} type=\"radio\" name=\"offre\" id=\"offre\" value={form.types} checked={form.types} />\n                  </label>\n                  <label htmlFor=\"demande\">\n                    Je recherche\n                  <input className={!form.types ? '' : 'ok'} onChange={() => setForm({ ...form, types: 0 })} type=\"radio\" name=\"demande\" id=\"demande\" value={form.types} checked={!form.types} />\n                  </label>\n                </div>\n                <select\n                  required=\"required\"\n                  name=\"field4\"\n                  className={!form.category ? '' : form.category === 'Choisir une catégorie *' ? '' : 'ok'}\n                  onChange={(event) => {\n                    setForm({ ...form, category: event.target.value });\n                  }}\n                >\n                  <option className=\"color_choisirCategorie\">Choisir une catégorie *</option>\n                  <optgroup label=\"Echanges de services\">\n                    {services.map((category) => (\n                      <option value={category.id} key={category.name}>{category.name}</option>\n                    ))}\n                    ;\n                </optgroup>\n                  <optgroup label=\"Pensions\">\n                    {pensions.map((category) => (\n                      <option value={category.id} key={category.name}>{category.name}</option>\n                    ))}\n                    ;\n                </optgroup>\n                  <optgroup label=\"Activités et balades\">\n                    {activ.map((category) => (\n                      <option value={category.id} key={category.name}>{category.name}</option>\n                    ))}\n                    ;\n                </optgroup>\n                  <optgroup label=\"Ventes/Dons/Locations\">\n                    {ventes.map((category) => (\n                      <option value={category.id} key={category.name}>{category.name}</option>\n                    ))}\n                    ;\n                </optgroup>\n                </select>\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"titre\"\n                  required=\"required\"\n                  variant=\"standard\"\n                  value={form.title}\n                  required=\"required\"\n                  maxLength=\"100\"\n                  onChange={(event) => setForm({ ...form, title: event.target.value })}\n                />\n                <TextField\n                  id=\"standard-multiline-static\"\n                  label=\"description\"\n                  required=\"required\"\n                  multiline\n                  rows=\"7\"\n                  type=\"text\"\n                  variant=\"standard\"\n                  value={form.description}\n                  id=\"zoneTexte\"\n                  required=\"required\"\n                  maxLength=\"1200\"\n                  onChange={(event) => setForm({ ...form, description: event.target.value })}\n                />\n                <p id=\"describeLength\">\n                  caractères restants :\n                {1200 - form.description.length}\n                  / 1200\n                </p>\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"prix\"\n                  type=\"tel\"\n                  variant=\"standard\"\n                  value={form.price}\n                  maxLength=\"10\"\n                  onChange={(event) => setForm({ ...form, price: event.target.value })}\n                />\n              </fieldset>\n              <legend>\n                <span className=\"number\">2</span>\n                Télécharger une image\n            </legend>\n              <fieldset>\n                <label className=\"downloadImg\" htmlFor=\"imgInp\">\n                  Télécharger une image\n                <input\n                    className={!form.picture ? '' : 'ok'}\n                    onChange={(event) => setForm({ ...form, picture: event.target.files[0] })}\n                    type=\"file\"\n                    placeholder=\"Télécharger une image\"\n                    name=\"picture\"\n                    maxLength=\"100\"\n                    id=\"imgInp\"\n                    style={{ display: 'none' }}\n                  />\n                </label>\n                <button\n                  onClick={(e) => setForm({ ...form, picture: null }, e.preventDefault())}\n                  className=\"button_register\"\n                  type=\"button\"\n                  id=\"ImgDelete\"\n                >\n                  Supprimer l'image\n              </button>\n                <img id=\"blah\" src=\"#\" alt=\"fairegardersoncheval\" className={!form.picture ? 'imgUnloaded' : 'imgLoaded'} />\n              </fieldset>\n              <fieldset>\n                <legend>\n                  <span className=\"number\">3</span>\n                  Localisation\n              </legend>\n                <Autocomplete\n                  onChange={handleNewCities}\n                  options={newCities}\n                  className={!form.location ? '' : 'ok'}\n                  value={form.location}\n                  renderInput={(params) => (\n                    <TextField\n                      {...params}\n                      onChange={handleNewCities}\n                      label=\"Localisation *\"\n                      className={!form.location ? '' : 'ok'}\n                      placeholder=\"Entrer votre ville *\"\n                      margin=\"normal\"\n                      fullWidth\n                      variant=\"outlined\"\n                    />\n                  )}\n                />\n                <button type=\"submit\" id=\"localize\" onClick={handleButton}>\n                  <FontAwesomeIcon\n                    icon={faCrosshairs}\n                  />\n                  Localisez moi !\n              </button>\n              </fieldset>\n              <fieldset>\n                <legend>\n                  <span className=\"number\">4</span>\n                  Contact\n              </legend>\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"nom\"\n                  variant=\"standard\"\n                  value={form.name}\n                  onChange={(event) => setForm({ ...form, name: event.target.value })}\n                />\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"email\"\n                  required=\"required\"\n                  variant=\"standard\"\n                  value={form.email}\n                  maxLength=\"50\"\n                  onChange={(event) => setForm({ ...form, email: event.target.value })}\n                />\n                <TextField\n                  id=\"standard-basic\"\n                  label=\"téléphone\"\n                  type=\"tel\"\n                  variant=\"standard\"\n                  value={form.phone}\n                  maxLength=\"10\"\n                  name=\"phone\"\n                  onChange={(event) => setForm({ ...form, phone: event.target.value })}\n                />\n                <legend>\n                  <span className=\"number\">5</span>\n                  Déposer l'annonce\n              </legend>\n                <p>\n                  <a\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    href=\"https://www.ifce.fr/wp-content/uploads/2019/09/Pret_a_usage__2_.pdf\"\n                  >\n                    <FontAwesomeIcon icon={faDownload} id=\"iconDownload\" />\n                    Télécharger un exemple de contrat IFCE\n                </a>\n                </p>\n                <div id=\"legalNotices\">\n                  <input\n                    onChange={() => setCocheLegalNotices(!cocheLegalNotices)}\n                    type=\"checkbox\"\n                    name=\"inputLegalNotices\"\n                    id=\"inputLegalNotices\"\n                    value={cocheLegalNotices}\n                  />\n                  <p>\n                    J'accepte les\n                  <a href=\"LegalNotices\" rel=\"noopener noreferrer\" target=\"_blank\"> mentions légales</a>\n                  </p>\n                </div>\n              </fieldset>\n              <Recaptcha\n                sitekey=\"6LenRsYUAAAAAOj8qWl5Rp66bucQCNtOKczLvviT\"\n                render=\"explicit\"\n                onChange={onChanger}\n              />\n              <button\n                type=\"submit\"\n                onClick={handleSubmit}\n                id=\"button_register\"\n                href=\"#\"\n              >\n                Envoyer le formulaire\n            </button>\n              <ToastContainer\n                position=\"top-center\"\n                autoClose={7000}\n                hideProgressBar\n                newestOnTop\n                closeOnClick\n                rtl={false}\n                pauseOnVisibilityChange\n                draggable\n                pauseOnHover\n              />\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default RegisterAdverts;\n"]},"metadata":{},"sourceType":"module"}